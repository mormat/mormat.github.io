/*! For license information please see react_scheduler.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.react_scheduler=t(require("react")):e.react_scheduler=t(e.React)}(self,(e=>(()=>{var t={20:(e,t,r)=>{"use strict";var n=r(91),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,i={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},91:t=>{"use strict";t.exports=e},437:e=>{var t;self,t=()=>{return e={11:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeStringify=void 0;const n=r(746),o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function i(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}t.unsafeStringify=i,t.default=function(e,t=0){const r=i(e,t);if(!(0,n.default)(r))throw TypeError("Stringified UUID is invalid");return r}},48:(e,t,r)=>{const{DateRange:n,format_date:o}=r(120);e.exports={createDragAndDropObserver:function({droppable:e,parentElement:t}){switch(e.type){case"days":return function({parentElement:e}){let t=null,r=null;return{onDrag:function({mouseEvent:n,droppable:o}){t=e.cloneNode(!0),t.style.display="none",t.classList.add("jscheduler_ui-dragged"),document.body.appendChild(t),r=o.getClosestChild(n)},onMove:function({mouseEvent:o,draggable:i,droppable:a}){const s="resize_event"===i.type?r:a.getClosestChild(o),{day:l,minhour:u,maxhour:c}=s.getData(o),d=new n(l+" "+u,l+" "+c),f=i.getCurrentValue(),{start:h,end:y}=f,p=Math.max(d.calcPercentPosition(h)/100,0),v=Math.min(d.calcPercentPosition(y)/100,1)-p,g=s.getRect();t.style.position="absolute",t.style.display="block",t.style.left=g.x+"px",t.style.width=g.width+"px",t.style.height=g.height*v+"px",t.style.top=g.y+g.height*p+"px",t.querySelector(".jscheduler_ui-event-header").innerHTML=f.header,e.style.display="none"},onDrop:function(){document.body.removeChild(t),t=null}}}({parentElement:t});case"timeline":return function({parentElement:e}){let t=null;return{onDrag:function({mouseEvent:r}){t=e.cloneNode(!0),t.style.display="none",t.style["max-height"]="22px",t.classList.add("jscheduler_ui-dragged"),document.body.appendChild(t)},onMove:function({mouseEvent:r,draggable:o,droppable:i}){const a=i.getClosestChild(r),s=a.getData(r),l=new n(s.daterange_start,s.daterange_end),u=o.getCurrentValue(),{start:c,end:d}=new n(u.start,u.start).fill(s.column_daterange_type),f=Math.max(l.calcPercentPosition(c)/100,0),h=Math.min(l.calcPercentPosition(d)/100,1)-f,y=a.getRect();t.style.position="absolute",t.style.display="block",t.style.top=y.y+"px",t.style.width=y.width*h+"px",t.style.left=y.x+y.width*f+"px",t.style["min-width"]="50px",e.style.display="none"},onDrop:function({mouseEvent:e}){document.body.removeChild(t),t=null}}}({parentElement:t})}}}},92:(e,t,r)=>{const{DayView:n,WeekView:o,MonthView:i,YearView:a}=r(623),{Day:s,DateRange:l}=r(120),{createViewRenderer:u}=r(807),{SchedulerListener:c}=r(316),{SchedulerEvent:d}=r(195),f=r(182),{StateHandler:h,reduceEvents:y,reduceCurrentDate:p}=r(350),v=function(e){for(const t of e){const{width:e}=t.contentRect;let r="large";e<=768&&(r="medium"),e<=576&&(r="small"),t.target.setAttribute("data-breakpoint",r)}};e.exports={Scheduler:class{#e;#t;#r;#n={};#o;constructor(e,t={},r={}){this.#e=e,this.#t=new h({},{onUpdate:()=>this.refresh(),reducers:[y,p]}),this.#t.update({viewMode:"week",minHour:8,maxHour:19,currentDate:null,events:[],eventsDraggable:!1,eventsResizeable:!1,eventsClickable:!1,eventsEditable:!1,headersVisible:!0,dateLocale:"en",styles:{"min-height":"480px",height:"100%"},...t}),this.#r=new c({onEventDrop:()=>{},onEventResize:()=>{},onEventClick:()=>{},...r},this.#t),this.#r.register(e),t.useBreakpoint&&(this.#o=new ResizeObserver(v),this.#o.observe(this.#e)),this.#e.classList.add("jscheduler_ui")}refresh(){const e=this.#t.values;e.events=e.events.filter((e=>e.isValid())),"day"===e.viewMode&&(this.#n=new n(e)),"week"===e.viewMode&&(this.#n=new o(e)),"month"===e.viewMode&&(this.#n=new i(e)),"year"===e.viewMode&&(this.#n=new a(e));const t=u(this.#n,e);this.#e.innerHTML=t.render(this.#n)}destroy(){this.#r.unregister(this.#e),this.#o&&this.#o.unobserve(this.#e),this.#e.classList.remove("jscheduler_ui")}setOptions(e){this.#t.update(e)}getOption(e){return this.#t.values[e]}next(){const{currentDate:e,viewMode:t}=this.#t.values;let r=new s(e);"day"===t&&(r=r.addDays(1)),"week"===t&&(r=r.addDays(7)),"month"===t&&(r=r.addMonths(1)),"year"===t&&(r=r.addYears(1)),this.#t.update({currentDate:r.getDate()})}previous(){const{currentDate:e,viewMode:t}=this.#t.values;let r=new s(e);"day"===t&&(r=r.addDays(-1)),"week"===t&&(r=r.addDays(-7)),"month"===t&&(r=r.addMonths(-1)),"year"===t&&(r=r.addYears(-1)),this.#t.update({currentDate:r.getDate()})}today(){this.#t.update({currentDate:Date.now()})}pushEvent(e){const t=e.id?e:{...e,id:f.v4()},{events:r}=this.#t.values;return this.#t.update({events:[...r,t]}),t}replaceEvent(e,t){const{events:r}=this.#t.values;this.#t.update({events:r.map((function(r){return[r.values].find(t)?{...r.values,...e}:r}))})}removeEvent(e){const{events:t}=this.#t.values;this.#t.update({events:t.filter((function(t){return![t.values].find(e)}))})}getEventsDateRange(){return this.#n.eventsDateRange}getLabel(){return this.#n.label}}}},120:e=>{const t={yyyy:e=>String(e.getFullYear()),mm:e=>("0"+(e.getMonth()+1)).slice(-2),dd:e=>("0"+e.getDate()).slice(-2),uuu:e=>String(e.getMilliseconds()).padStart(3,"0"),"yyyy-mm":e=>t.yyyy(e)+"-"+t.mm(e),"yyyy-mm-dd":e=>t["yyyy-mm"](e)+"-"+t.dd(e),hh:e=>("0"+e.getHours()).slice(-2),ii:e=>("0"+e.getMinutes()).slice(-2),ss:e=>("0"+e.getSeconds()).slice(-2),"hh:ii":e=>t.hh(e)+":"+t.ii(e),"hh:ii:ss":e=>t.hh(e)+":"+t.ii(e)+":"+t.ss(e),"hh:ii:ss.uuu":e=>t.hh(e)+":"+t.ii(e)+":"+t.ss(e)+"."+t.uuu(e),"yyyy-mm-dd hh:ii":e=>t["yyyy-mm-dd"](e)+" "+t["hh:ii"](e),"yyyy-mm-dd hh:ii:ss":e=>t["yyyy-mm-dd"](e)+" "+t["hh:ii:ss"](e),"yyyy-mm-dd hh:ii:ss.uuu":e=>t["yyyy-mm-dd"](e)+" "+t["hh:ii:ss.uuu"](e)};function r(e,r){const n=new Date(r);return t[e](n)}class n{constructor(e){this.date=new Date(e)}get vars(){return{year:this.date.getFullYear(),monthIndex:this.date.getMonth(),day:this.date.getDate()}}getFirstDayOfWeek(){const e=new Date(this.date);return e.setDate(e.getDate()-e.getDay()+(0===e.getDay()?-6:1)),new n(e)}getLastDayOfWeek(){const e=new Date(this.date);return e.setDate(e.getDate()-e.getDay()+(0===e.getDay()?0:7)),new n(e)}getFirstDayOfMonth(){const e=new Date(this.date);return e.setDate(1),new n(e)}getLastDayOfMonth(){const e=new Date(this.date);return e.setDate(1),e.setMonth(e.getMonth()+1),e.setDate(e.getDate()-1),new n(e)}addDays(e){const t=new Date(this.date);return t.setDate(this.date.getDate()+e),new n(t)}addMonths(e){const t=new Date(this.date);return t.setMonth(this.date.getMonth()+e),new n(t)}addYears(e){const t=new Date(this.date);return t.setYear(t.getFullYear()+e),new n(t)}getDate(){return this.date}get numday(){return this.date.getDate()}get month(){return this.date.getMonth()}toString(){return t["yyyy-mm-dd"](this.date)}}class o{constructor(e,t){this.start=new Date(e),this.end=new Date(t)}static fromObject({start:e,end:t}){return new o(e,t)}static createForMonth(e){const t=r("yyyy-mm",e)+"-01 00:00:00.000",n=new Date(t);return n.setMonth(n.getMonth()+1),n.setTime(n.getTime()-1),new o(t,n)}get length(){return this.end.getTime()-this.start.getTime()}contains(e){const t=new Date(e.start),r=new Date(e.end);return this.start<=t&&r<=this.end}intersects(e){const t=new Date(e.start),r=new Date(e.end);return r<this.start||this.end<t?null:new o(Math.max(this.start.getTime(),t.getTime()),Math.min(this.end.getTime(),r.getTime()))}calcPercentPosition(e){const t=new Date(e),r=this.end.getTime()-this.start.getTime();return 100*(t.getTime()-this.start.getTime())/r}countDays(){return Math.round(this.length/864e5)}getWeeks(){const e=new n(this.start),t=new n(this.end),r=[];let o=e.getFirstDayOfWeek(),i=t.getLastDayOfWeek();for(;o<=i;){const e=[o];for(let t=1;t<7;t++)e.push(e[0].addDays(t));r.push(e),o=o.addDays(7)}return r}fill(e){if("month"===e){const e=new Date(this.end);return e.setDate(1),e.setMonth(e.getMonth()+1),e.setDate(e.getDate()-1),new o(r("yyyy-mm",this.start)+"-01 00:00:00.000",r("yyyy-mm-dd",e)+" 23:59:59.999")}if("day_hour"===e){const e=new Date(this.start),t=new Date(this.end);return e.setMinutes(0),0==t.getMinutes()&&t.setHours(t.getHours()-1),t.setMinutes(59),new o(r("yyyy-mm-dd hh:ii",e)+":00.000",r("yyyy-mm-dd hh:ii",t)+":59.999")}if("day"===e)return new o(new n(this.start)+" 00:00:00.000",new n(this.end)+" 23:59:59.999")}}function i(e){const t=[],r=new Set;for(const n of e){if(r.has(n))continue;const o=e.filter((e=>e!==n&&n.intersects(e)));if(o.length){const e=i(o);for(const r of e)t.push([n,...r]);for(const e of o)r.add(e)}else t.push([n])}return t}function a(e){const t=new Map,r=e.sort(((e,t)=>t.length-e.length));for(const e of r){let r=1/e.length,n=0;for(const o in e)if(t.has(e[o])){const i=t.get(e[o]);n=i.offset+i.length,r=(1-n)/(e.length-o-1)}else t.set(e[o],{offset:n,length:r}),n+=r}return t}class s{#i;constructor(e){this.#i=e}with(e,t){return"month"===e?new s(r("yyyy-mm",t)+"-"+r("dd",this.#i)+" "+r("hh:ii:ss.uuu",this.#i)):"day"===e?new s(r("yyyy-mm-dd",t)+" "+r("hh:ii:ss.uuu",this.#i)):"day_hour"===e?new s(r("yyyy-mm-dd",t)+" "+r("hh",t)+":"+r("ii",this.#i)+":"+r("ss",this.#i)+"."+r("uuu",this.#i)):void 0}toString(){return r("yyyy-mm-dd hh:ii:ss.uuu",this.#i)}}e.exports={format_date:r,DateRange:o,Day:n,date_add_hour:function(e,t){const r=new Date(e);return r.setTime(r.getTime()+60*t*60*1e3),r},groupDateRangedItemsByPosition:function(e){const t=[];e:for(const r of e){const e=new o(r.start,r.end-1);for(const n in t)if(!t[n].find((t=>{const r=new o(t.start,t.end-1);return e.intersects(r)}))){t[n].push(r);continue e}t.push([r])}return t},getOffsetAndLengthByDateRanges:function(e){return a(i(e))},_groupDateRanges:i,_mapGroupedDateRanges:a,getWeekDays:function({dateLocale:e="en"}={}){const t=[];for(let r=0;r<7;r++){const n=new Date("1970-01-01");n.setDate(r+5),t.push(n.toLocaleString(e,{weekday:"short"}))}return t},DateStringFormatter:s}},182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=t.validate=t.v7=t.v6ToV1=t.v6=t.v5=t.v4=t.v3=t.v1ToV6=t.v1=t.stringify=t.parse=t.NIL=t.MAX=void 0;var n=r(196);Object.defineProperty(t,"MAX",{enumerable:!0,get:function(){return n.default}});var o=r(465);Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return o.default}});var i=r(797);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return i.default}});var a=r(11);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.default}});var s=r(425);Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return s.default}});var l=r(568);Object.defineProperty(t,"v1ToV6",{enumerable:!0,get:function(){return l.default}});var u=r(591);Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return u.default}});var c=r(286);Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return c.default}});var d=r(557);Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return d.default}});var f=r(356);Object.defineProperty(t,"v6",{enumerable:!0,get:function(){return f.default}});var h=r(268);Object.defineProperty(t,"v6ToV1",{enumerable:!0,get:function(){return h.default}});var y=r(299);Object.defineProperty(t,"v7",{enumerable:!0,get:function(){return y.default}});var p=r(746);Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return p.default}});var v=r(770);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return v.default}})},195:(e,t,r)=>{const{date_add_hour:n,format_date:o}=r(120),i=r(182);class a{#a={};constructor(e){this.#a=e||{},this.#a.id||(this.#a.id=i.v4()),this.init()}init(){const e=new Date(this.#a.start),t=new Date(this.#a.end?this.#a.end:n(e,2));this.#a={bgColor:"#0288d1",color:"white",...this.#a,start:e,end:t}}get values(){return this.#a}get id(){return this.#a.id}get start(){return this.#a.start}get end(){return this.#a.end}get label(){return this.#a.label}get color(){return this.#a.color}get bgColor(){return this.#a.bgColor}get length(){return this.end.getTime()-this.start.getTime()}get header(){return[this.start,this.end].map((e=>o("hh:ii",e))).join(" - ")}cloneWith(e){return new a({...this.values,...e})}isValid(){if(!this.label||!this.start||!this.end)return!1;const e=new Date(this.start),t=new Date(this.end);return!(isNaN(e)||isNaN(t)||t.getTime()<e.getTime())}}e.exports={SchedulerEvent:a,compareSchedulerEventsByDaysCount:function(e,t){const r=864e5,n=Math.round(Math.abs((e.end-e.start)/r));return Math.round(Math.abs((t.end-t.start)/r))-n}}},196:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},268:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(797),o=r(11);t.default=function(e){const t=(r="string"==typeof e?(0,n.default)(e):e,Uint8Array.of((15&r[3])<<4|r[4]>>4&15,(15&r[4])<<4|(240&r[5])>>4,(15&r[5])<<4|15&r[6],r[7],(15&r[1])<<4|(240&r[2])>>4,(15&r[2])<<4|(240&r[3])>>4,16|(240&r[0])>>4,(15&r[0])<<4|(240&r[1])>>4,r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]));var r;return"string"==typeof e?(0,o.unsafeStringify)(t):t}},271:(e,t,r)=>{const{Rectangle:n,calcDistance:o}=r(420);class i{#e;constructor(e){this.#e=e}getData(e){const t={...this.#e.dataset};if(e){const{x:r,y:n,width:o,height:i}=this.getRect();t.percentX=100*(e.pageX-r)/o,t.percentY=100*(e.pageY-n)/i}return t}getRect(){const{x:e,y:t,width:r,height:n}=this.#e.getBoundingClientRect();return{x:e+window.scrollX,y:t+window.scrollY,width:r,height:n}}}class a{#s;#l;constructor(e,t){this.#s=e,this.#l=t}get type(){return this.#l}getChildren(){this.#s}getData(e){const t=this.getClosestChild(e);return t?t.getData(e):{}}getRect(){const e=[];for(let t of this.#s)e.push(t.getRect());return n.createBounding(e)}getClosestChild(e){const t={x:e.pageX,y:e.pageY},r={},i=[];for(let e of this.#s){const a=new n(e.getRect());if(!a)continue;const s=o(t,a.getCenter());i.push(s),r[s]=e}return r[Math.min(...i)]}}class s{#s;#l;constructor(e,t){this.#s=e,this.#l=t}get type(){return this.#l}getChildren(){this.#s}getData(e){const t=this.getClosestChild(e);return t?t.getData(e):{}}getRect(){const e=[];for(let t of this.#s)e.push(t.getRect());return n.createBounding(e)}getClosestChild(e){e.pageX;const t=e.pageY,r={},o=[];for(let e of this.#s){const i=new n(e.getRect()),a=Math.abs(t-(i.y+i.height/2));o.push(a),r[a]=e}return r[Math.min(...o)]}}e.exports={createDroppable:function({draggableElement:e}){const t=e.getAttribute("data-jscheduler_ui-droppable-target"),r=document.querySelector(t),n=r.getAttribute("data-jscheduler_ui-droppable-type");switch(n){case"days":{const e=[...r.querySelectorAll("td[data-jscheduler_ui-day]")];return new a(e.map((e=>new i(e))),n)}case"timeline":{const e=[...r.querySelectorAll("[data-daterange_start][data-daterange_end]")];return new s(e.map((e=>new i(e))),n)}}}}},284:e=>{e.exports={composeMaps:function(e,t){const r=new Map;for(const[n,o]of e.entries())r.set(n,t.get(o));return r}}},286:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(779),o=r(291),i=r(11);t.default=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const a=(e=e||{}).random??e.rng?.()??(0,o.default)();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,i.unsafeStringify)(a)}},291:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0});const n=new Uint8Array(16);t.default=function(){if(!r){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(n)}},299:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV7State=void 0;const n=r(291),o=r(11),i={};function a(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++),e}function s(e,t,r,n,o=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(n){if(o<0||o+16>n.length)throw new RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`)}else n=new Uint8Array(16),o=0;return t??=Date.now(),r??=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9],n[o++]=t/1099511627776&255,n[o++]=t/4294967296&255,n[o++]=t/16777216&255,n[o++]=t/65536&255,n[o++]=t/256&255,n[o++]=255&t,n[o++]=112|r>>>28&15,n[o++]=r>>>20&255,n[o++]=128|r>>>14&63,n[o++]=r>>>6&255,n[o++]=r<<2&255|3&e[10],n[o++]=e[11],n[o++]=e[12],n[o++]=e[13],n[o++]=e[14],n[o++]=e[15],n}t.updateV7State=a,t.default=function(e,t,r){let l;if(e)l=s(e.random??e.rng?.()??(0,n.default)(),e.msecs,e.seq,t,r);else{const e=Date.now(),o=(0,n.default)();a(i,e,o),l=s(o,i.msecs,i.seq,t,r)}return t??(0,o.unsafeStringify)(l)}},316:(e,t,r)=>{const{createDragAndDropObserver:n}=r(48),{createDroppable:o}=r(271),{createDraggable:i}=r(903);e.exports={SchedulerListener:function(e,t){const{onEventDrop:r,onEventResize:a,onEventClick:s,onEventEdit:l}=e;function u(){const{events:e}=t.values;return e}function c(e){const{events:r}=t.values;t.update({events:r.map((t=>t.id!==e.id?t:e))})}function d(e){if(y(e,".jscheduler_ui-event-edit")){e.preventDefault();const t=e.target.closest(".jscheduler_ui-event"),r=u().find((function({id:e}){return t.dataset.eventId===String(e)}));r&&l(r)}else if(y(e,".jscheduler_ui-event a")){e.preventDefault();const t=e.target.closest(".jscheduler_ui-event"),r=u().find((function({id:e}){return t.dataset.eventId===String(e)}));r&&s(r)}}function f(e){if(y(e,".jscheduler_ui-event .jscheduler_ui-resize-handler")){e.preventDefault();const t=e.target.closest(".jscheduler_ui-event"),r=u().find((function({id:e}){return t.dataset.eventId===String(e)})),s=o({draggableElement:t}),l=i("resize_event",{onChange:function(e,t){c(e),a(e,t)},schedulerEvent:r}),d=n({droppable:s,parentElement:t});l.startDragAndDrop({mouseEvent:e,observer:d,droppable:s})}}function h(e){if(y(e,".jscheduler_ui-event .jscheduler_ui-draggable")){e.preventDefault();const t=e.target.closest(".jscheduler_ui-event"),a=u().find((function({id:e}){return t.dataset.eventId===String(e)})),s=o({draggableElement:t}),l=i(t.matches(".jscheduler_ui-event-timeline")?"move_event_timeline":"move_event_day",{onChange:function(e,t){c(e),r(e,t)},schedulerEvent:a}),d=n({droppable:s,parentElement:t});l.startDragAndDrop({mouseEvent:e,observer:d,droppable:s})}}function y(e,t){for(const r of e.composedPath())if(r instanceof Element&&r.matches(t))return!0}this.register=function(e){e.addEventListener("click",d),e.addEventListener("mousedown",f),e.addEventListener("mousedown",h)},this.unregister=function(e){e.removeEventListener("click",d),e.removeEventListener("mousedown",f),e.removeEventListener("mousedown",h)}}}},338:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(e,t,r,o,i,a){return n((s=n(n(t,e),n(o,a)))<<(l=i)|s>>>32-l,r);var s,l}function i(e,t,r,n,i,a,s){return o(t&r|~t&n,e,t,i,a,s)}function a(e,t,r,n,i,a,s){return o(t&n|r&~n,e,t,i,a,s)}function s(e,t,r,n,i,a,s){return o(t^r^n,e,t,i,a,s)}function l(e,t,r,n,i,a,s){return o(r^(t|~n),e,t,i,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(e){const t=new Uint8Array(4*e.length);for(let r=0;r<4*e.length;r++)t[r]=e[r>>2]>>>r%4*8&255;return t}(function(e,t){const o=new Uint32Array(r(t)).fill(0);o.set(e),o[t>>5]|=128<<t%32,o[o.length-1]=t,e=o;let u=1732584193,c=-271733879,d=-1732584194,f=271733878;for(let t=0;t<e.length;t+=16){const r=u,o=c,h=d,y=f;u=i(u,c,d,f,e[t],7,-680876936),f=i(f,u,c,d,e[t+1],12,-389564586),d=i(d,f,u,c,e[t+2],17,606105819),c=i(c,d,f,u,e[t+3],22,-1044525330),u=i(u,c,d,f,e[t+4],7,-176418897),f=i(f,u,c,d,e[t+5],12,1200080426),d=i(d,f,u,c,e[t+6],17,-1473231341),c=i(c,d,f,u,e[t+7],22,-45705983),u=i(u,c,d,f,e[t+8],7,1770035416),f=i(f,u,c,d,e[t+9],12,-1958414417),d=i(d,f,u,c,e[t+10],17,-42063),c=i(c,d,f,u,e[t+11],22,-1990404162),u=i(u,c,d,f,e[t+12],7,1804603682),f=i(f,u,c,d,e[t+13],12,-40341101),d=i(d,f,u,c,e[t+14],17,-1502002290),c=i(c,d,f,u,e[t+15],22,1236535329),u=a(u,c,d,f,e[t+1],5,-165796510),f=a(f,u,c,d,e[t+6],9,-1069501632),d=a(d,f,u,c,e[t+11],14,643717713),c=a(c,d,f,u,e[t],20,-373897302),u=a(u,c,d,f,e[t+5],5,-701558691),f=a(f,u,c,d,e[t+10],9,38016083),d=a(d,f,u,c,e[t+15],14,-660478335),c=a(c,d,f,u,e[t+4],20,-405537848),u=a(u,c,d,f,e[t+9],5,568446438),f=a(f,u,c,d,e[t+14],9,-1019803690),d=a(d,f,u,c,e[t+3],14,-187363961),c=a(c,d,f,u,e[t+8],20,1163531501),u=a(u,c,d,f,e[t+13],5,-1444681467),f=a(f,u,c,d,e[t+2],9,-51403784),d=a(d,f,u,c,e[t+7],14,1735328473),c=a(c,d,f,u,e[t+12],20,-1926607734),u=s(u,c,d,f,e[t+5],4,-378558),f=s(f,u,c,d,e[t+8],11,-2022574463),d=s(d,f,u,c,e[t+11],16,1839030562),c=s(c,d,f,u,e[t+14],23,-35309556),u=s(u,c,d,f,e[t+1],4,-1530992060),f=s(f,u,c,d,e[t+4],11,1272893353),d=s(d,f,u,c,e[t+7],16,-155497632),c=s(c,d,f,u,e[t+10],23,-1094730640),u=s(u,c,d,f,e[t+13],4,681279174),f=s(f,u,c,d,e[t],11,-358537222),d=s(d,f,u,c,e[t+3],16,-722521979),c=s(c,d,f,u,e[t+6],23,76029189),u=s(u,c,d,f,e[t+9],4,-640364487),f=s(f,u,c,d,e[t+12],11,-421815835),d=s(d,f,u,c,e[t+15],16,530742520),c=s(c,d,f,u,e[t+2],23,-995338651),u=l(u,c,d,f,e[t],6,-198630844),f=l(f,u,c,d,e[t+7],10,1126891415),d=l(d,f,u,c,e[t+14],15,-1416354905),c=l(c,d,f,u,e[t+5],21,-57434055),u=l(u,c,d,f,e[t+12],6,1700485571),f=l(f,u,c,d,e[t+3],10,-1894986606),d=l(d,f,u,c,e[t+10],15,-1051523),c=l(c,d,f,u,e[t+1],21,-2054922799),u=l(u,c,d,f,e[t+8],6,1873313359),f=l(f,u,c,d,e[t+15],10,-30611744),d=l(d,f,u,c,e[t+6],15,-1560198380),c=l(c,d,f,u,e[t+13],21,1309151649),u=l(u,c,d,f,e[t+4],6,-145523070),f=l(f,u,c,d,e[t+11],10,-1120210379),d=l(d,f,u,c,e[t+2],15,718787259),c=l(c,d,f,u,e[t+9],21,-343485551),u=n(u,r),c=n(c,o),d=n(d,h),f=n(f,y)}return Uint32Array.of(u,c,d,f)}(function(e){if(0===e.length)return new Uint32Array;const t=new Uint32Array(r(8*e.length)).fill(0);for(let r=0;r<e.length;r++)t[r>>2]|=(255&e[r])<<r%4*8;return t}(e),8*e.length))}},350:(e,t,r)=>{const{SchedulerEvent:n}=r(195);e.exports={StateHandler:class{#a;#u;#c;constructor(e,t={}){this.#a={...e},this.#u=t.onUpdate||(()=>{}),this.#c=t.reducers||[]}get values(){return this.#a}update(e){const t=this.#c.reduce(((e,t)=>({...e,...t(e)})),e);this.#a={...this.#a,...t},this.#u(this)}},reduceEvents:function(e){return"events"in e?{events:e.events.map((e=>e instanceof n?e:new n(e)))}:{}},reduceCurrentDate:function(e){if("currentDate"in e){if(e.currentDate)return{};const{events:t}=e;if(t){const e=t.map((e=>new Date(e.start))).filter((e=>!isNaN(e)));if(e.length)return{currentDate:Math.min(...e.map((e=>e.getTime())))}}return{currentDate:Date.now()}}return{}}}},356:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(11),o=r(425),i=r(568);t.default=function(e,t,r){e??={},r??=0;let a=(0,o.default)({...e,_v6:!0},new Uint8Array(16));if(a=(0,i.default)(a),t){for(let e=0;e<16;e++)t[r+e]=a[e];return t}return(0,n.unsafeStringify)(a)}},420:e=>{class t{x;y;width;height;constructor({x:e,y:t,width:r,height:n}){this.x=e,this.y=t,this.width=r,this.height=n}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}contains(e){return this.x<=e.x&&this.y<=e.y&&e.x+e.width<=this.x+this.width&&e.y+e.height<=this.y+this.height}includes(e){return this.x<=e.x&&this.y<=e.y&&e.x<=this.x+this.width&&e.y<=this.y+this.height}getCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}intersectsWith(e){return!(e.x>this.x+this.width||e.x+e.width<this.x||e.y>this.y+this.height||e.y+e.height<this.y)}static createBounding(e){const r=Math.min(...e.map((e=>e.x))),n=Math.min(...e.map((e=>e.y))),o=Math.max(...e.map((e=>e.x+e.width))),i=Math.max(...e.map((e=>e.y+e.height)));return new t({x:r,y:n,width:o-r,height:i-n})}}e.exports={Rectangle:t,calcDistance:function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}}},425:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV1State=void 0;const n=r(291),o=r(11),i={};function a(e,t,r){return e.msecs??=-1/0,e.nsecs??=0,t===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):t>e.msecs?e.nsecs=0:t<e.msecs&&(e.node=void 0),e.node||(e.node=r.slice(10,16),e.node[0]|=1,e.clockseq=16383&(r[8]<<8|r[9])),e.msecs=t,e}function s(e,t,r,n,o,i,a=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(i){if(a<0||a+16>i.length)throw new RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`)}else i=new Uint8Array(16),a=0;t??=Date.now(),r??=0,n??=16383&(e[8]<<8|e[9]),o??=e.slice(10,16);const s=(1e4*(268435455&(t+=122192928e5))+r)%4294967296;i[a++]=s>>>24&255,i[a++]=s>>>16&255,i[a++]=s>>>8&255,i[a++]=255&s;const l=t/4294967296*1e4&268435455;i[a++]=l>>>8&255,i[a++]=255&l,i[a++]=l>>>24&15|16,i[a++]=l>>>16&255,i[a++]=n>>>8|128,i[a++]=255&n;for(let e=0;e<6;++e)i[a++]=o[e];return i}t.updateV1State=a,t.default=function(e,t,r){let l;const u=e?._v6??!1;if(e){const t=Object.keys(e);1===t.length&&"_v6"===t[0]&&(e=void 0)}if(e)l=s(e.random??e.rng?.()??(0,n.default)(),e.msecs,e.nsecs,e.clockseq,e.node,t,r);else{const e=Date.now(),o=(0,n.default)();a(i,e,o),l=s(o,i.msecs,i.nsecs,u?void 0:i.clockseq,u?void 0:i.node,t,r)}return t??(0,o.unsafeStringify)(l)}},465:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="00000000-0000-0000-0000-000000000000"},466:(e,t,r)=>{const{Scheduler:n}=r(92),{format_date:o,Day:i}=r(120),a={format_date:o,Day:i};e.exports={render:function(e,t){const r=Array.isArray(t)?{events:t}:t,o={},i={};for(const[e,t]of Object.entries(r))e.startsWith("on")?i[e]=t:o[e]=t;return new n(e,o,i)},utils:a,name:"@mormat/jscheduler_ui",version:"0.9.5"}},557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const n=r(829),o=r(988);var i=r(988);function a(e,t,r,i){return(0,o.default)(80,n.default,e,t,r,i)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return i.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return i.URL}}),a.DNS=o.DNS,a.URL=o.URL,t.default=a},568:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(797),o=r(11);t.default=function(e){const t=(r="string"==typeof e?(0,n.default)(e):e,Uint8Array.of((15&r[6])<<4|r[7]>>4&15,(15&r[7])<<4|(240&r[4])>>4,(15&r[4])<<4|(240&r[5])>>4,(15&r[5])<<4|(240&r[0])>>4,(15&r[0])<<4|(240&r[1])>>4,(15&r[1])<<4|(240&r[2])>>4,96|15&r[2],r[3],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]));var r;return"string"==typeof e?(0,o.unsafeStringify)(t):t}},591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const n=r(338),o=r(988);var i=r(988);function a(e,t,r,i){return(0,o.default)(48,n.default,e,t,r,i)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return i.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return i.URL}}),a.DNS=o.DNS,a.URL=o.URL,t.default=a},623:(e,t,r)=>{const{Day:n,DateRange:o,format_date:i,getWeekDays:a}=r(120);class s{#d;#f;#h;#y;#p;#v;constructor({eventsDateRange:e,minHour:t,maxHour:r,dateLocale:n,events:o,groups:i=[]}){this.#d=e,this.#f=t,this.#h=r,this.#y=n,this.#p=o,this.#v=i}get eventsDateRange(){return this.#d}get minHour(){return Math.max(0,this.#f)}get maxHour(){return this.#h}get dateLocale(){return this.#y}get hours(){const e=Math.max(0,this.#f),t=Math.min(23,this.#h);return t<e?[]:[...Array(t-e+1)].map(((t,r)=>r+e))}get days(){const e=new n(this.#d.end),t=[new n(this.#d.start)];for(;t.at(-1)<e;)t.push(t.at(-1).addDays(1));return t}get vars(){const{eventsDateRange:e,minHour:t,maxHour:r}=this,n=this.#p.filter((t=>e.intersects(t))),i=this.hours.map((e=>({label:String(e).padStart(2,"0")+":00",value:e}))),a=this.days.map((e=>{const t=new o(e+` ${this.#f}:00:00`,e+` ${this.#h+1}:00:00`),r=new Date(e).toLocaleString(this.#y,{weekday:"short",month:"short",day:"numeric"});return{value:e,events:n.filter((e=>t.contains(e))),label:r,dateRange:t}})),s=n.filter((function(e){return-1===a.findIndex((t=>t.events.includes(e)))}));return{hours:i,days:a,spannedEvents:s,minHour:t,maxHour:r,eventsDateRange:e,groups:this.#v}}}e.exports={DayView:class extends s{constructor({currentDate:e,...t}){const r=new n(e||Date.now());super({eventsDateRange:new o(r+" 00:00:00",r+" 23:59:59.999"),...t})}get label(){const{start:e}=this.eventsDateRange;return e.toLocaleString(this.dateLocale,{weekday:"long",month:"long",day:"numeric",year:"numeric"})}},WeekView:class extends s{constructor({currentDate:e,...t}){const r=new n(e||Date.now()).getFirstDayOfWeek(),i=r.addDays(6);super({eventsDateRange:new o(r+" 00:00:00",i+" 23:59:59.999"),...t})}get label(){const{start:e,end:t}=this.eventsDateRange;return e.toLocaleString(this.dateLocale,{month:"short",day:"numeric",year:"numeric"})+" - "+t.toLocaleString(this.dateLocale,{month:"short",day:"numeric",year:"numeric"})}},MonthView:class{#g;#y;#p;#v;constructor({currentDate:e,dateLocale:t,events:r,groups:n}){this.#g=e,this.#y=t,this.#p=r,this.#v=n}get eventsDateRange(){const e=new n(this.#g),t=e.getFirstDayOfMonth().getFirstDayOfWeek(),r=e.getLastDayOfMonth().getLastDayOfWeek();return new o(t+" 00:00:00",r+" 23:59:59.999")}get label(){return new Date(this.#g).toLocaleString(this.#y,{month:"long",year:"numeric"})}get weeks(){const e=this.eventsDateRange,t=[];let r=new n(e.start),o=new n(e.end);for(;r<=o;){const e=[r];for(let t=1;t<7;t++)e.push(e[0].addDays(t));t.push(e),r=r.addDays(7)}return t}get vars(){const e=new n(this.#g),t=this.weeks.map((t=>{const r=new o(t.at(0)+" 00:00:00",t.at(-1)+" 23:59:59.999"),n=this.#p.filter((e=>r.intersects(e)));return{days:t.map((t=>({numday:t.numday,value:t,isCurrentMonth:t.month===e.month}))),dateRange:r,events:n}}));return{weekdays:t[0].days.map((({value:e})=>e.date.toLocaleString(this.#y,{weekday:"short"}))),weeks:t,groups:this.#v}}},YearView:class{#g;#y;#p;#v;constructor({currentDate:e,dateLocale:t,events:r,groups:n=[]}){this.#g=e,this.#y=t,this.#p=r,this.#v=n}get label(){return i("yyyy",this.#g)}get eventsDateRange(){const e=i("yyyy",this.#g);return new o(e+"-01-01 00:00:00.000",e+"-12-31 23:59:59.999")}get vars(){const e=[],t=[];for(let e=1;e<=12;e++){const r=o.createForMonth(i("yyyy",this.#g)+"-"+e+"-01");let n=r.start.toLocaleString(this.#y,{month:"long"});n=n[0].toUpperCase()+n.substring(1);const a=r.getWeeks(),s=[];for(let e=1;e<=r.countDays();e++){const t=i("yyyy-mm",r.start)+"-"+e,n=new Date(t),o=[0,6].includes(n.getDay());s.push({day_of_month:e,is_dayoff:o})}const l=r.start.getDay()||7,u=this.#p.filter((e=>r.intersects(e)));t.push({text:n,dateRange:r,weeks:a,monthdays:s,startDay:l,events:u})}const r=Math.max(...t.map((e=>e.weeks.length)));for(let n=1;n<=r;n++){let o=a({dateLocale:this.#y});if(n===r){const e=Math.max(...t.filter((e=>e.weeks.length===r)).map((e=>e.dateRange.end.getDay()||7)));o=o.filter(((t,r)=>r<e))}e.push(...o.map((function(e,t){return{text:e.substring(0,1).toUpperCase(),numday_in_week:t+1}})))}return{days:e,months:t,groups:this.#v}}}}},697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},746:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(697);t.default=function(e){return"string"==typeof e&&n.default.test(e)}},770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(746);t.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},779:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:r}},797:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(746);t.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,255&t,(t=parseInt(e.slice(9,13),16))>>>8,255&t,(t=parseInt(e.slice(14,18),16))>>>8,255&t,(t=parseInt(e.slice(19,23),16))>>>8,255&t,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,255&t)}},807:(e,t,r)=>{const{Day:n,format_date:o,DateRange:i}=r(120),{groupDateRangedItemsByPosition:a}=r(120),{getOffsetAndLengthByDateRanges:s}=r(120),{composeMaps:l}=r(284),{compareSchedulerEventsByDaysCount:u}=r(195),c=r(965),{DayView:d,WeekView:f,MonthView:h,YearView:y}=r(623),p={events_row:'<div data-daterange_start = "{{ dateRange.start }}" data-daterange_end = "{{ dateRange.end }}" style = "width: 100%; height: {{ style.height }}; position: relative " {{# attrs }}{{key}}="{{value}}" {{/ attrs }} > {{# for_each_events }} <div class = "jscheduler_ui-event jscheduler_ui-event-timeline {{ className }}" style = " position: absolute; top: {{ style.top }}; left: {{ style.left }}; right: {{ style.right }}; height: {{ style.height }}; color: {{ style.color }}; background-color: {{ style.backgroundColor }} " data-event-id = "{{ event.id }}" data-jscheduler_ui-droppable-target = "{{ eventDroppableTarget }}" > {{# if_draggable }} <div class="jscheduler_ui-draggable" style=" position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 1 " > </div> {{/ if_draggable }} {{# if_clickable }} <span style="position: relative; z-index: 2"> <a href="#" style="color: {{ event.color }}"> {{ description }} </a> </span> {{/ if_clickable }} {{^ if_clickable }} <span style="color: {{ event.color }}"> {{ description }} </span> {{/ if_clickable }} {{# if_editable }} <a class="jscheduler_ui-event-edit" href="#" title = "{{ translations.edit_event_btn }}" > <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> </a> {{/ if_editable }} </div> {{/ for_each_events }} </div>',events_column:' {{# for_each_events }} <div class="jscheduler_ui-event jscheduler_ui-event-day {{ className }}" style="position: absolute; top: {{ style.top }}; bottom: {{ style.bottom }}; left: {{ style.left }}; width: {{ style.width }}; background-color: {{ style.backgroundColor }} " data-event-id="{{event.id}}" data-jscheduler_ui-droppable-target="{{eventDroppableTarget}}" > {{# if_draggable }} <div class="jscheduler_ui-draggable" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 1" > </div> {{/ if_draggable }} {{# if_resizeable }} <div class="jscheduler_ui-resize-handler" style="position: absolute; left: 0; right: 0; bottom: 0; height: 10px; z-index: 2" > </div> {{/ if_resizeable }} {{# if_clickable }} <span style="position: relative; color: {{ event.color }}; z-index: 3;" > <a class="jscheduler_ui-event-header" href="#"> {{ event.header }} </a> <br/> <a href="#"> {{ event.label }} </a> </span> {{/ if_clickable }} {{^ if_clickable }} <span style="color: {{ event.color }}"> <span class="jscheduler_ui-event-header"> {{ event.header }} </span> <br/> {{ event.label }} </span> {{/ if_clickable }} {{# if_editable }} <a class = "jscheduler_ui-event-edit" href = "#" title = "{{ translations.edit_event_btn }}" > <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> </a> {{/ if_editable }} </div> {{/ for_each_events }} ',grid:'<div class="jscheduler_ui-grid"> {{ #hseps }} <div class="jscheduler_ui-hsep" style="position: absolute; left: {{ style.left }}; top: 0; height: 100%; width: 1px; " > </div> {{ /hseps }} {{#vseps}} <div class="jscheduler_ui-vsep" style="position: absolute; top: {{ style.top }}; left: 0; width: 100%; height: 1px;" > </div> {{/vseps}} </div>'};class v{#m;#b;#w;#j;#x;constructor({eventsClickable:e,eventsResizeable:t,eventsDraggable:r,eventsEditable:n,translations:o={}}){this.#m=e,this.#b=r,this.#w=t,this.#j=n,this.#x={edit_event_btn:"Edit the event",...o}}getTranslations(){return this.#x}withEventsColumnPartial({events:e,dateRange:t,eventDroppableTarget:r}){const n=a(e.filter((e=>t.contains(e))));return{for_each_events:n.map(((e,o)=>e.map((e=>{const i={position:"absolute",top:x(t.calcPercentPosition(e.start),2)+"%",bottom:x(100-t.calcPercentPosition(e.end),2)+"%",left:100*o/n.length+"%",width:100/n.length+"%"};let a="";return O.includes(e.bgColor)?a="bg-"+e.bgColor:i.backgroundColor=e.bgColor,{if_draggable:this.#b,if_resizeable:this.#w,if_clickable:this.#m,if_editable:this.#j,event:e,eventDroppableTarget:r,style:i,className:a}})))).flat()}}withEventsRowPartial({events:e,dateRange:t,eventDroppableTarget:r,columnDateRangeType:n="day",groupId:a,labelType:c}){const d=[...e].sort(u),f=new Map(d.map((e=>[e,i.fromObject(e).fill(n)]))),h=l(f,s([...f.values()])),y={"data-column_daterange_type":n};return void 0!==a&&(y["data-group_id"]=a),{for_each_events:e.map((e=>{const o=t.intersects(e);if(!o)return null;const{start:i,end:a}=o.fill(n),s={top:100*h.get(e).offset+"%",height:100*h.get(e).length+"%",left:t.calcPercentPosition(i)+"%",right:100-t.calcPercentPosition(a)+"%"};let l="";O.includes(e.bgColor)?l="bg-"+e.bgColor:s.backgroundColor=e.bgColor;let u=e.label;if(c){const{labels:t={}}=e.values;t[c]&&(u=t[c])}return{if_draggable:this.#b,if_clickable:this.#m,if_editable:this.#j,event:e,eventDroppableTarget:r,style:s,className:l,description:u}})).filter((e=>e)),dateRange:{start:o("yyyy-mm-dd hh:ii:ss",t.start),end:o("yyyy-mm-dd hh:ii:ss",t.end)},style:{height:"100%"},attr:y,attrs:Object.entries(y).map((function([e,t]){return{key:e,value:t}}))}}withGridPartial({cols:e=1,rows:t=1}){return{hseps:[...Array(e-1)].map(((t,r)=>({style:{left:100*(r+1)/e+"%"}}))),vseps:[...Array(t-1)].map(((e,r)=>({style:{top:100*(r+1)/t+"%"}})))}}}class g extends v{render(e){const t={...e.vars};t.translations=this.getTranslations(),t.headerId="jscheduler_ui-"+j(),t.bodyId="jscheduler_ui-"+j(),t.has_header=t.days.length>1;for(const e of t.hours)e.style={width:"5%"};for(const r of t.days)r.style={width:x(95/t.days.length,2)+"%"},r.rowspan=t.hours.length,r.data={day:r.value,minhour:`${e.minHour}:00:00`,maxhour:`${e.maxHour+1}:00:00`},r.events_column=this.withEventsColumnPartial({events:r.events,dateRange:r.dateRange,eventDroppableTarget:"#"+t.bodyId}),r.is_dayoff=[0,6].includes(r.value.date.getDay());if(t.hours.length&&(t.hours[0]._days=t.days,t.hours[0].grid=this.withGridPartial({rows:e.hours.length}),t["hours[0]"]=t.hours[0]),t.spannedEvents.length){const e=new Map(t.spannedEvents.map((e=>[e,new i(e.start,e.end)]))),r=l(e,s([...e.values()])),n=Math.min(...[...r.values()].map((e=>e.length)));t.events_row={...this.withEventsRowPartial({events:t.spannedEvents,dateRange:t.eventsDateRange,eventDroppableTarget:"#"+t.headerId}),colspan:t.days.length},t.events_row_height=22/n+"px"}return c.render('<table id="{{headerId}}" class="jscheduler_ui-day_view-header jscheduler_ui-daterange" style="width: 100%; table-layout: fixed; flex: 0 1 auto;" data-jscheduler_ui-droppable-type="timeline" > {{# has_header }} <thead> <tr> <td style="width: {{ hours[0].style.width }}"> </td> {{# days }} <th style="width: {{ style.width }}; text-align: center" class="jscheduler_ui-daterange-header jscheduler_ui-day-header" > {{ label }} </th> {{/ days }} </tr> </thead> {{/ has_header }} {{# events_row }} <tbody> <tr> <td style="width: {{ hours[0].style.width }}"></td> <td class="jscheduler_ui-daterange-row" colspan="{{ colspan }}" style="height: {{ events_row_height }}" > {{> events_row }} </td> </tr> </tbody> {{/ events_row }} </table> <table id="{{bodyId}}" class="jscheduler_ui-day_view-body" style="width: 100%; table-layout: fixed; flex: 1 1 auto;" data-jscheduler_ui-droppable-type="days" > <tbody style="position: relative"> {{# hours }} <tr> <th style="width: {{ style.width }}" data-hour> {{ label }} {{ #grid }} {{> grid }} {{ /grid }} </div> </th> {{# _days }} <td style = "width: {{ style.width }}%; position: relative" rowspan = "{{ rowspan }}" data-jscheduler_ui-day = "{{ data.day }}" data-day = "{{ data.day }}" data-minhour = "{{ data.minhour }}" data-maxhour = "{{ data.maxhour }}" > {{# is_dayoff }} <div class="jscheduler_ui-dayoff" style="position: absolute; top: 0; left: 0; bottom: 0; right: 0; " > </div> {{/ is_dayoff }} {{# events_column }} {{> events_column }} {{/ events_column }} </td> {{/ _days }} </tr> {{/ hours }} </tbody> </table> ',t,p)}}class m extends v{render(e){const t={...e.vars};t.translations=this.getTranslations(),t.bodyId="jscheduler_ui-"+j();for(const r of t.weeks){r.events_row=this.withEventsRowPartial({eventDroppableTarget:"#"+t.bodyId,dateRange:r.dateRange,events:r.events}),r.style={height:100/e.weeks.length+"%"},r.grid=this.withGridPartial({cols:7});for(const e in r.days){const t=r.days[e];t.style={width:100/7+"%",left:100*e/7+"%"},t.active=function(){return t.isCurrentMonth?"active":"inactive"}}r.daysoff=r.days.map(((e,t)=>{const{date:r}=e.value;return{date:r,style:{width:100/7+"%",left:100*t/7+"%"}}})).filter((e=>[0,6].includes(e.date.getDay())))}return c.render(' <table class="jscheduler_ui-month_view" style="width: 100%; table-layout: fixed; flex: 1 1 auto;" > <thead> <tr> {{ #weekdays }} <th style="width: 14.28%"> {{ . }} </th> {{ /weekdays }} </tr> </thead> <tbody id="{{bodyId}}" data-jscheduler_ui-droppable-type="timeline" > {{ #weeks }} <tr> <td colspan="7" style="position: relative; height: {{ style.height }}; " class="jscheduler_ui-daterange" > {{ #grid }} {{> grid }} {{ /grid }} {{ #daysoff }} <div class="jscheduler_ui-dayoff" style = "position: absolute; top: 0; left: {{ style.left }}; width: {{ style.width }}; bottom: 0; " > </div> {{ /daysoff }} <div> {{ #days }} <span style="width: {{ style.width }}; left: {{ style.left }}; top: 0; position: absolute; text-align: right; " class="jscheduler_ui-month_view-numday jscheduler_ui-month_view-numday-{{ active }} jscheduler_ui-daterange-header " >{{ numday }}</span> {{ /days }} </div> {{ #events_row }} <div class="jscheduler_ui-daterange-row" style=" position: absolute; top: 0; bottom: 0; left: 0; right: 0; padding-top: 20px; " > {{> events_row }} </div> {{ /events_row }} </td> </tr> {{ /weeks }} </tbody> </table> ',t,p)}}class b extends v{render(e){const t={...e.vars};t.bodyId="jscheduler_ui-"+j(),t.row_colspan=t.days.length;for(const e of t.days)e.style={width:92/t.days.length+"%"};t.yaxis={style:{width:"8%"}};for(const e of t.months){e.grid=this.withGridPartial({cols:t.days.length});for(const t in e.monthdays)e.monthdays[t].width=100/e.monthdays.length+"%",e.monthdays[t].left=100*t/e.monthdays.length+"%";const{startDay:r}=e;e.style={left:100*(r-1)/t.days.length+"%",width:100*e.dateRange.countDays()/t.days.length+"%"},e.events_row=this.withEventsRowPartial({eventDroppableTarget:"#"+t.bodyId,dateRange:e.dateRange,events:e.events.map((function({values:e}){let{label:t,short_label:r}=e;return r&&new i(e.start,e.end).countDays()<=1&&(t=r),{...e,label:t}}))})}return c.render('<table class="jscheduler_ui-year_view" style="width: 100%; table-layout: fixed; flex: 1 1 auto;" > <thead> <tr> <td style="width: {{ yaxis.style.width }}"> </td> {{ #days }} <th style = "width: {{ style.width }}; overflow: hidden; text-align: center " > {{ text }} </th> {{ /days }} </tr> </thead> <tbody id="{{bodyId}}" data-jscheduler_ui-droppable-type="timeline" > {{ #months }} <tr> <th> {{ text }} </th> <td colspan="{{ row_colspan }}" style="position: relative; " > <div style="position: absolute; top: 0; bottom: 0; left: {{ style.left }}; width: {{ style.width }}; background-color: white; " > {{ #monthdays }} {{ #is_dayoff }} <div class="jscheduler_ui-dayoff" style="position: absolute; top: 0; bottom: 0; left: {{ left }}; width: {{ width }}; " > </div> {{ /is_dayoff }} <span class="jscheduler_ui-year_view-monthday" style="position: absolute; top: 0; left: {{ left }}; width: {{ width }}; " data-monthday="{{ day_of_month }}" > {{ day_of_month }} </span> {{ /monthdays }} {{ #events_row }} <div class="jscheduler_ui-daterange-row" style="position: absolute; top: 10px; bottom: 0; left: 0; right: 0; " > {{> events_row }} </div> {{ /events_row }} </div> {{ #grid }} {{> grid }} {{ /grid }} </td> </tr> {{ /months }} </tbody> </table>',t,p)}}function w(e,{styles:t}){this.render=function(r){const n={innerHTML:e.render(r),styles:Object.entries(t).map((([e,t])=>({name:e,value:t})))};return c.render('<div style="display: flex; flex-flow: column; {{# styles }} {{ name }}:{{ value}}; {{/ styles }}" > {{{ innerHTML }}} </div>',n)}}const j=function(){let e=0;return()=>++e}();function x(e,t=0){const r=Math.pow(10,t);return Math.round(e*r)/r}const O=["primary","secondary","success","danger","warning","info","light","dark","white"];class D extends v{get yaxisWidthPercent(){return 15}getCols(){return[]}getAttr(){return{id:"jscheduler_ui-"+j()}}getEvents(){return[]}getColumnTimeRangeType(){return"day"}getDaysOff(){return[]}render(e){const t={...e.vars},r=e.eventsDateRange,n=this.getEvents(e).filter((e=>r.intersects(e))),o=[...t.groups],i=function(e){return t=>t.id==e};for(const e of n.filter((e=>e.values.group_id))){const t=e.values.group_id;o.find(i(t))||o.push({id:t,text:t})}return n.find((e=>!e.values.group_id))&&o.push({id:null,text:""}),t.attr=this.getAttr(),t.xaxis={cols:this.getCols(e)},t.yaxis={style:{width:"15%"},rows:o.map((o=>{const{text:i}=o;return{text:i,events_row:this.withEventsRowPartial({eventDroppableTarget:"#"+t.attr.id,dateRange:r,events:n.filter((e=>(e.values.group_id||null)==o.id)),columnDateRangeType:this.getColumnTimeRangeType(),groupId:o.id,labelType:"showGroups"}),grid:this.withGridPartial({cols:t.xaxis.cols.length}),daysoff:this.getDaysOff(e)}}))},c.render('<table id="{{ attr.id }}" class="jscheduler_ui-timeline" style="width: 100%; table-layout: fixed; flex: 1 1 auto; " data-type-view="{{ attr.data_type_view }}" data-jscheduler_ui-droppable-type="timeline" > <thead> <tr> <td style="width: {{ yaxis.style.width }}" ></td> {{ #xaxis.cols }} <th class = "{{ #disabled }}jscheduler_ui-disabled{{/disabled}}" style = "width: {{ style.width }}; text-align: center; " > {{ text }} {{ #subtext }} <br/> {{ /subtext }} {{ subtext }} </th> {{ /xaxis.cols }} </tr> </thead> <tbody> {{ #yaxis.rows }} <tr> <th data-text="{{ text }}"> {{ text }} {{^text}} <div style="min-height: 25px;"></div> {{/text}} </th> <td colspan="{{ xaxis.cols.length }}" style="position: relative"; > {{ #daysoff }} <div class="jscheduler_ui-dayoff" style = "position: absolute; top: 0; left: {{ style.left }}; width: {{ style.width }}; bottom: 0; " > </div> {{ /daysoff }} {{ #events_row }} <div class="jscheduler_ui-daterange-row" style=" position: absolute; top: 0; bottom: 0; left: 0; right: 0; " > {{> events_row }} </div> {{ /events_row }} {{ #grid }} {{> grid }} {{ /grid }} </td> </tr> {{ /yaxis.rows }} </tbody> </table>',t,p)}}class _ extends D{getAttr(){return{...super.getAttr(),data_type_view:"day"}}getEvents({vars:e}){return[[...e.spannedEvents],...e.days.map((e=>e.events))].flat()}getCols(){const e=[];for(let t=0;t<12;t++){const r=o("hh:ii",`1970-01-01 ${2*t}:00`);e.push({text:r})}return e}getColumnTimeRangeType(){return"day_hour"}}class S extends D{getAttr(){return{...super.getAttr(),data_type_view:"week"}}getEvents({vars:e}){return[[...e.spannedEvents],...e.days.map((e=>e.events))].flat()}getCols({vars:e}){return e.days.map((e=>({text:new Date(e.value).toLocaleString("en",{weekday:"short"}),subtext:new Date(e.value).toLocaleString("en",{day:"numeric"}),style:{width:(100-this.yaxisWidthPercent)/7+"%"}})))}getDaysOff({vars:e}){return e.days.map(((e,t)=>{const{date:r}=e.value;return{date:r,style:{width:100/7+"%",left:100*t/7+"%"}}})).filter((e=>[0,6].includes(e.date.getDay())))}}class P extends D{getAttr(){return{...super.getAttr(),data_type_view:"month"}}getEvents({vars:e}){const t=[];for(const r of e.weeks)t.push(...r.events);return t}getDays({vars:e}){const t=[];for(const r of e.weeks)t.push(...r.days);return t}getCols({vars:e}){const t=[];for(const r of this.getDays({vars:e})){const{date:n}=r.value,o=n.toLocaleString("en",{weekday:"short"})[0],i=n.toLocaleString("en",{day:"numeric"}),a=!r.isCurrentMonth,s={width:(100-this.yaxisWidthPercent)/(7*e.weeks.length)+"%"};t.push({text:o,subtext:i,style:s,disabled:a})}return t}getDaysOff({vars:e}){return this.getDays({vars:e}).map(((t,r)=>{const{date:n}=t.value;return{date:n,style:{width:100/(7*e.weeks.length)+"%",left:100*r/(7*e.weeks.length)+"%"}}})).filter((e=>[0,6].includes(e.date.getDay())))}}class E extends D{getAttr(){return{...super.getAttr(),data_type_view:"year"}}getEvents({vars:e}){const t=[];for(const r of e.months)t.push(...r.events);return t}getCols(){const e=[];for(let t=1;t<=12;t++){const r=new Date(`1970-${t}-01`).toLocaleString("en",{month:"short"}),n={width:(100-this.yaxisWidthPercent)/12+"%"};e.push({text:r,style:n})}return e}getColumnTimeRangeType(){return"month"}}e.exports={createViewRenderer:function(e,t){return e instanceof d?new w(t.showGroups?new _(t):new g(t),t):e instanceof f?new w(t.showGroups?new S(t):new g(t),t):e instanceof h?new w(t.showGroups?new P(t):new m(t),t):e instanceof y?new w(t.showGroups?new E(t):new b(t),t):void 0}}},829:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520],i=new Uint8Array(e.length+1);i.set(e),i[e.length]=128;const a=(e=i).length/4+2,s=Math.ceil(a/16),l=new Array(s);for(let t=0;t<s;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];l[t]=r}l[s-1][14]=8*(e.length-1)/Math.pow(2,32),l[s-1][14]=Math.floor(l[s-1][14]),l[s-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<s;++e){const i=new Uint32Array(80);for(let t=0;t<16;++t)i[t]=l[e][t];for(let e=16;e<80;++e)i[e]=n(i[e-3]^i[e-8]^i[e-14]^i[e-16],1);let a=o[0],s=o[1],u=o[2],c=o[3],d=o[4];for(let e=0;e<80;++e){const o=Math.floor(e/20),l=n(a,5)+r(o,s,u,c)+d+t[o]+i[e]>>>0;d=c,c=u,u=n(s,30)>>>0,s=a,a=l}o[0]=o[0]+a>>>0,o[1]=o[1]+s>>>0,o[2]=o[2]+u>>>0,o[3]=o[3]+c>>>0,o[4]=o[4]+d>>>0}return Uint8Array.of(o[0]>>24,o[0]>>16,o[0]>>8,o[0],o[1]>>24,o[1]>>16,o[1]>>8,o[1],o[2]>>24,o[2]>>16,o[2]>>8,o[2],o[3]>>24,o[3]>>16,o[3]>>8,o[3],o[4]>>24,o[4]>>16,o[4]>>8,o[4])}},903:(e,t,r)=>{const{DateRange:n,DateStringFormatter:o,format_date:i}=r(120);class a{drag(){}move(){}drop(){}startDragAndDrop({mouseEvent:e,observer:t,droppable:r}){if(e.preventDefault(),0!==e.button)return;const n=this;this.drag({mouseEvent:e,droppable:r}),t.onDrag({mouseEvent:e,draggable:n,droppable:r});const o=e=>{this.move({mouseEvent:e,droppable:r}),t.onMove({mouseEvent:e,draggable:n,droppable:r})},i=e=>{this.drop({mouseEvent:e,droppable:r}),t.onDrop({mouseEvent:e,draggable:n,droppable:r}),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",i)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",i)}}class s extends a{#O;#D;#_;#S;constructor(e,t){super(),this.#O=e,this.#_=t}getCurrentValue(){return this.#D}drag({mouseEvent:e,droppable:t}){this.#D=this.#O,t.getData(e)}move({mouseEvent:e,droppable:t}){const r=t.getData(e);this.#S=r.group_id;const i=new n(r.daterange_start,r.daterange_end);let{percentX:a}=r;a=Math.min(a,100),a=Math.max(a,0);let s=i.start.getTime();s+=i.length*a/100,s=new Date(new o(this.#O.start).with(r.column_daterange_type||"day",s));const l=s.getTime()+this.#O.length;this.#D=this.#D.cloneWith({start:s,end:l})}drop(){const{start:e,end:t}=this.#D,r=this.#O.values,n={...r,start:e,end:t};void 0!==this.#S&&(n.group_id=this.#S),this.#_(n,r)}}class l extends a{#O;#D=null;#_;#P=0;constructor(e,t){super(),this.#O=e,this.#_=t}getCurrentValue(){return this.#D}getCurrentTimestamp({mouseEvent:e,droppable:t}){const{percentY:r,day:o,minhour:i,maxhour:a}=t.getData(e),s=new n(o+" "+i,o+" "+a);return s.start.getTime()+s.length*r/100}drag({mouseEvent:e,droppable:t}){this.#D=this.#O;const r=this.getCurrentTimestamp({mouseEvent:e,droppable:t});this.#P=this.#O.start.getTime()-r}move({mouseEvent:e,droppable:t}){const{day:r,minhour:o,maxhour:i}=t.getData(e),a=new n(r+" "+o,r+" "+i);let s=this.getCurrentTimestamp({mouseEvent:e,droppable:t})+this.#P;s-=s%9e5,s<a.start.getTime()&&(s=a.start.getTime()),s+this.#O.length>a.end.getTime()&&(s=a.end.getTime()-this.#O.length),this.#D=this.#D.cloneWith({start:s,end:s+this.#O.length})}drop(){const{start:e,end:t}=this.#D,r=this.#O.values;this.#_({...r,start:e,end:t},r)}}class u extends a{#O;#_;#D=null;#E=null;constructor(e,t){super(),this.#O=e,this.#_=t}getCurrentValue(){return this.#D}get type(){return"resize_event"}getCurrentTimestamp({mouseEvent:e,droppable:t}){const{percentY:r,day:o,minhour:i,maxhour:a}=t.getData(e),s=new n(o+" "+i,o+" "+a);return s.start.getTime()+s.length*r/100}drag({mouseEvent:e,droppable:t}){const{day:r,minhour:o,maxhour:i}=t.getData(e);this.#E=new n(r+" "+o,r+" "+i),this.#D=this.#O}move({mouseEvent:e,droppable:t}){const{percentY:r,day:o,minhour:i,maxhour:a}=t.getData(e);new n(o+" "+i,o+" "+a);let s=this.getCurrentTimestamp({mouseEvent:e,droppable:t});s-=s%9e5,s>this.#E.end.getTime()&&(s=this.#E.end.getTime()),s<this.#O.start.getTime()&&(s=this.#O.start.getTime()+9e5),this.#D=this.#D.cloneWith({start:this.#D.start,end:s})}drop(){const{start:e,end:t}=this.#D,r=this.#O.values;this.#_({...r,start:e,end:t},r)}}e.exports={createDraggable:function(e,{schedulerEvent:t,onChange:r}){return"move_event_timeline"===e?new s(t,r):"move_event_day"===e?new l(t,r):"resize_event"===e?new u(t,r):void 0}}},965:function(e){e.exports=function(){"use strict";var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function r(e){return"function"==typeof e}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}var i=RegExp.prototype.test,a=/\S/;function s(e){return!function(e,t){return i.call(e,t)}(a,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,c=/\s+/,d=/\s*=/,f=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function y(e){this.string=e,this.tail=e,this.pos=0}function p(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}y.prototype.eos=function(){return""===this.tail},y.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var r=t[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},y.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},p.prototype.push=function(e){return new p(e,this)},p.prototype.lookup=function(e){var t,n,i,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var s,l,u,c=this,d=!1;c;){if(e.indexOf(".")>0)for(s=c.view,l=e.split("."),u=0;null!=s&&u<l.length;)u===l.length-1&&(d=o(s,l[u])||(n=s,i=l[u],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(i))),s=s[l[u++]];else s=c.view[e],d=o(c.view,e);if(d){t=s;break}c=c.parent}a[e]=t}return r(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},v.prototype.parse=function(e,r){var o=this.templateCache,i=e+":"+(r||g.tags).join(":"),a=void 0!==o,l=a?o.get(i):void 0;return null==l&&(l=function(e,r){if(!e)return[];var o,i,a,l=!1,p=[],v=[],m=[],b=!1,w=!1,j="",x=0;function O(){if(b&&!w)for(;m.length;)delete v[m.pop()];else m=[];b=!1,w=!1}function D(e){if("string"==typeof e&&(e=e.split(c,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);o=new RegExp(n(e[0])+"\\s*"),i=new RegExp("\\s*"+n(e[1])),a=new RegExp("\\s*"+n("}"+e[1]))}D(r||g.tags);for(var _,S,P,E,C,k,M=new y(e);!M.eos();){if(_=M.pos,P=M.scanUntil(o))for(var R=0,T=P.length;R<T;++R)s(E=P.charAt(R))?(m.push(v.length),j+=E):(w=!0,l=!0,j+=" "),v.push(["text",E,_,_+1]),_+=1,"\n"===E&&(O(),j="",x=0,l=!1);if(!M.scan(o))break;if(b=!0,S=M.scan(h)||"name",M.scan(u),"="===S?(P=M.scanUntil(d),M.scan(d),M.scanUntil(i)):"{"===S?(P=M.scanUntil(a),M.scan(f),M.scanUntil(i),S="&"):P=M.scanUntil(i),!M.scan(i))throw new Error("Unclosed tag at "+M.pos);if(C=">"==S?[S,P,_,M.pos,j,x,l]:[S,P,_,M.pos],x++,v.push(C),"#"===S||"^"===S)p.push(C);else if("/"===S){if(!(k=p.pop()))throw new Error('Unopened section "'+P+'" at '+_);if(k[1]!==P)throw new Error('Unclosed section "'+k[1]+'" at '+_)}else"name"===S||"{"===S||"&"===S?w=!0:"="===S&&D(P)}if(O(),k=p.pop())throw new Error('Unclosed section "'+k[1]+'" at '+M.pos);return function(e){for(var t,r=[],n=r,o=[],i=0,a=e.length;i<a;++i)switch((t=e[i])[0]){case"#":case"^":n.push(t),o.push(t),n=t[4]=[];break;case"/":o.pop()[5]=t[2],n=o.length>0?o[o.length-1][4]:r;break;default:n.push(t)}return r}(function(e){for(var t,r,n=[],o=0,i=e.length;o<i;++o)(t=e[o])&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(n.push(t),r=t));return n}(v))}(e,r),a&&o.set(i,l)),l},v.prototype.render=function(e,t,r,n){var o=this.getConfigTags(n),i=this.parse(e,o),a=t instanceof p?t:new p(t,void 0);return this.renderTokens(i,a,r,e,n)},v.prototype.renderTokens=function(e,t,r,n,o){for(var i,a,s,l="",u=0,c=e.length;u<c;++u)s=void 0,"#"===(a=(i=e[u])[0])?s=this.renderSection(i,t,r,n,o):"^"===a?s=this.renderInverted(i,t,r,n,o):">"===a?s=this.renderPartial(i,t,r,o):"&"===a?s=this.unescapedValue(i,t):"name"===a?s=this.escapedValue(i,t,o):"text"===a&&(s=this.rawValue(i)),void 0!==s&&(l+=s);return l},v.prototype.renderSection=function(e,n,o,i,a){var s=this,l="",u=n.lookup(e[1]);if(u){if(t(u))for(var c=0,d=u.length;c<d;++c)l+=this.renderTokens(e[4],n.push(u[c]),o,i,a);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)l+=this.renderTokens(e[4],n.push(u),o,i,a);else if(r(u)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(n.view,i.slice(e[3],e[5]),(function(e){return s.render(e,n,o,a)})))&&(l+=u)}else l+=this.renderTokens(e[4],n,o,i,a);return l}},v.prototype.renderInverted=function(e,r,n,o,i){var a=r.lookup(e[1]);if(!a||t(a)&&0===a.length)return this.renderTokens(e[4],r,n,o,i)},v.prototype.indentPartial=function(e,t,r){for(var n=t.replace(/[^ \t]/g,""),o=e.split("\n"),i=0;i<o.length;i++)o[i].length&&(i>0||!r)&&(o[i]=n+o[i]);return o.join("\n")},v.prototype.renderPartial=function(e,t,n,o){if(n){var i=this.getConfigTags(o),a=r(n)?n(e[1]):n[e[1]];if(null!=a){var s=e[6],l=e[5],u=e[4],c=a;0==l&&u&&(c=this.indentPartial(a,u,s));var d=this.parse(c,i);return this.renderTokens(d,t,n,c,o)}}},v.prototype.unescapedValue=function(e,t){var r=t.lookup(e[1]);if(null!=r)return r},v.prototype.escapedValue=function(e,t,r){var n=this.getConfigEscape(r)||g.escape,o=t.lookup(e[1]);if(null!=o)return"number"==typeof o&&n===g.escape?String(o):n(o)},v.prototype.rawValue=function(e){return e[1]},v.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},v.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var g={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){m.templateCache=e},get templateCache(){return m.templateCache}},m=new v;return g.clearCache=function(){return m.clearCache()},g.parse=function(e,t){return m.parse(e,t)},g.render=function(e,r,n,o){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(t(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return m.render(e,r,n,o)},g.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))},g.Scanner=y,g.Context=p,g.Writer=v,g}()},988:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=t.stringToBytes=void 0;const n=r(797),o=r(11);function i(e){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}t.stringToBytes=i,t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",t.default=function(e,t,r,a,s,l){const u="string"==typeof r?i(r):r,c="string"==typeof a?(0,n.default)(a):a;if("string"==typeof a&&(a=(0,n.default)(a)),16!==a?.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+u.length);if(d.set(c),d.set(u,c.length),d=t(d),d[6]=15&d[6]|e,d[8]=63&d[8]|128,s){l=l||0;for(let e=0;e<16;++e)s[l+e]=d[e];return s}return(0,o.unsafeStringify)(d)}}},t={},function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(466);var e,t},e.exports=t()},848:(e,t,r)=>{"use strict";e.exports=r(20)}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{DefaultEventForm:()=>_e,OkCancelDialog:()=>Le,Scheduler:()=>Be,SchedulerWithEventForm:()=>$e,default:()=>qe,utils:()=>t.utils,withEventForm:()=>He});var e=n(91),t=n(437),r=n.n(t);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u,c=(u=0,function(){return(t=(0,e.useState)((function(){return"mormat-scheduler-"+u++})),r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];var t,r}),d=n(848);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t=e.children;return(0,d.jsxs)("div",{className:"mormat-scheduler-Header",style:{overflow:"visible",padding:"1px"},children:[(0,d.jsx)("div",{style:{float:"left",textAlign:"left"},children:t[0]}),(0,d.jsx)("div",{style:{float:"right",textAlign:"right"},children:t[2]}),(0,d.jsx)("div",{style:{textAlign:"center"},children:t[1]})]})};h.ButtonGroup=function(e){var t=e.items;return(0,d.jsx)("div",{children:t.map((function(e,t){var r=e.label,n=e.onClick;return(0,d.jsx)("button",{onClick:n,children:r},t)}))})},h.ToggleGroup=function(t){var r,n,o=t.items,i=t.value,a=t.onChange,s=c(),l=(r=(0,e.useState)(i),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(r,n)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],h=l[1],y=function(e){h(e.target.value),a(e)};return(0,d.jsx)("div",{children:o.map((function(e,t){var r=e.value,n=e.label;return(0,d.jsxs)("label",{children:[(0,d.jsx)("input",{type:"radio",checked:u===r,onChange:y,value:r,name:s})," "+n+" "]},t)}))})};const y=h;function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b={Default:function(e){var t=e.header,r=e.body;return(0,d.jsxs)(d.Fragment,{children:[t,r]})},FixedHeader:function(e){var t=e.header,r=e.body;return(0,d.jsxs)("div",{style:g({display:"flex",flexFlow:"column"},b.styles.full),children:[(0,d.jsx)("div",{style:{flex:"0 1 auto",width:"100%"},children:t}),(0,d.jsx)("div",{style:{flex:"1 1 auto",position:"relative"},children:r})]})},styles:{full:{position:"absolute",top:0,left:0,right:0,bottom:0}}};const w=b;function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}var x=["translations"],O=["events","onEventDrop","onEventResize","initialDate"];function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return(t=function(e){var t=function(e){if("object"!=j(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var k=new Map,M={headerRenderer:function(e){var t=e.year,r=e.monthIndex,n=e.day;return new Date(t,r,n).toLocaleString("en",{weekday:"short",month:"short",day:"numeric"})}},R=function(e,r,n,o){if("function"!=typeof r)return null;r(function(e){for(var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),n=0,o=["start","end"];n<o.length;n++){var i=o[n];r[i]=t.utils.format_date("yyyy-mm-dd hh:ii",r[i])}return r}(n),{valuesBefore:o,setValues:function(t){e.replaceEvent(t,(function(e){return o.id===e.id}))}})};function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}var A=["onEventAdd"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return(t=function(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V=(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[(0,d.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,d.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]});function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}var z=["onEventEdit"];function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return(t=function(e){var t=function(e){if("object"!=N(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==N(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){Y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t,r){return(t=function(e){var t=function(e){if("object"!=B(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G=(0,e.createContext)({});function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}var K=["value","setValue"],J=["children","variant","type"],Q=["children","variant"],Z=["value","setValue","dateLocale"];function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"==typeof e)return re(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){return(t=function(e){var t=function(e){if("object"!=X(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==X(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function se(t){var r=t.value,n=t.setValue,o=ae(t,K),i=(0,e.useContext)(G);return(0,d.jsx)("input",oe(oe({value:r,onChange:function(e){return n(e.target.value)}},o),i))}function le(e){var t=e.children,r=e.variant,n=e.type,o=void 0===n?"button":n,i=ae(e,J);return(0,d.jsx)("button",oe(oe({className:"mormat-scheduler-Button","data-variant":r,type:o},i),{},{children:t}))}function ue(e){var t=e.children,r=e.variant,n=ae(e,Q);return(0,d.jsx)("span",oe(oe({className:"mormat-scheduler-Message","data-variant":r},n),{},{children:t}))}function ce(t){var r=t.value,n=t.setValue,o=["#0288d1","#9575cd","#0fc4a7","#721c24","#856404","#383d41"];return(0,e.useEffect)((function(){o.includes(r)||n(o[0])}),[]),(0,d.jsx)("span",{className:"mormat-scheduler-ColorPicker",children:o.map((function(e){return(0,d.jsxs)("label",{"data-label":e,style:{borderColor:e===r?e:"transparent"},onMouseDown:function(e){return e.preventDefault()},children:[(0,d.jsx)("span",{style:{backgroundColor:e},children:"       "}),(0,d.jsx)("input",{type:"radio",value:e,checked:r===e,onChange:function(e){return n(e.target.value)}}),(0,d.jsx)("span",{style:{display:"none"},children:e})]},e)}))})}function de(r){var n=r.value,o=r.setValue,i=r.dateLocale,a=void 0===i?"en":i,s=(ae(r,Z),function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.minutesStep,n=void 0===r?5:r,o=e.dateLocale,i=void 0===o?"en":o,a=new Date(Date.now()),s=[],l=0;l<24;l++)for(var u=0;u<60;u+=n){var c=t.utils.format_date("hh:ii","1970-01-01 ".concat(l,":").concat(u));s.push(c)}for(var d={},f=1;f<=31;f++)d[String(f).padStart(2,"0")]=f;for(var h={},y=0;y<12;y++){var p=new Date(1970,y,1).toLocaleString(i,{month:"long"});h[String(y+1).padStart(2,"0")]=p}for(var v={},g=a.getFullYear(),m=g-9;m<=g;m++)v[m]=m;return{times:s,days:d,months:h,years:v}}({dateLocale:a})),l=ee((0,e.useState)((function(){var e,r=t.utils.format_date("hh:ii",n),o=t.utils.format_date("dd",n),i=t.utils.format_date("mm",n),a=t.utils.format_date("yyyy",n),l=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=te(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(s.times);try{for(l.s();!(e=l.n()).done;){var u=e.value;if(u>=r){r=u;break}}}catch(e){l.e(e)}finally{l.f()}return{time:r,day:o,month:i,year:a}})),2),u=l[0],c=l[1];function f(e,t){var r=oe({},u);r[e]=t,c(r);var n=r.year,i=r.day,a=r.month,s=r.time;o("".concat(n,"-").concat(a,"-").concat(i," ").concat(s))}return(0,d.jsxs)("span",{className:"mormat-scheduler-DateTimePicker",children:[(0,d.jsx)("select",{title:"time",value:u.time,onChange:function(e){return f("time",e.target.value)},children:s.times.map((function(e){return(0,d.jsx)("option",{value:e,title:e,children:e},e)}))})," ",(0,d.jsx)("select",{title:"day",value:u.day,onChange:function(e){return f("day",e.target.value)},children:Object.keys(s.days).toSorted().map((function(e){return(0,d.jsx)("option",{value:e,title:s.days[e],children:s.days[e]},e)}))})," ",(0,d.jsx)("select",{title:"month",value:u.month,onChange:function(e){return f("month",e.target.value)},children:Object.keys(s.months).toSorted().map((function(e){return(0,d.jsx)("option",{value:e,title:s.months[e],children:s.months[e]},e)}))})," ",(0,d.jsx)("select",{title:"year",value:u.year,onChange:function(e){return f("year",e.target.value)},children:Object.entries(s.years).map((function(e){var t=ee(e,2),r=t[0],n=t[1];return(0,d.jsx)("option",{value:r,title:n,children:n},r)}))})]})}function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}var he=["values","onConfirm","onCancel","onDelete"];function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e,t,r){return(t=function(e){var t=function(e){if("object"!=fe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function be(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.useDatePicker,i=void 0!==o&&o,a=n.useColorPicker,s=void 0!==a&&a;return function(n){var o=n.values,a=void 0===o?{}:o,l=n.onConfirm,u=n.onCancel,c=n.onDelete,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(n,he),h=ge((0,e.useState)(a.label||""),2),y=h[0],p=h[1],v=ge((0,e.useState)(a.start?t.utils.format_date("yyyy-mm-dd hh:ii",a.start):t.utils.format_date("yyyy-mm-dd hh:ii",Date.now())),2),g=v[0],m=v[1],b=ge((0,e.useState)(a.end?t.utils.format_date("yyyy-mm-dd hh:ii",a.end):t.utils.format_date("yyyy-mm-dd hh:ii",Date.now()+je)),2),w=b[0],j=b[1],x=ge((0,e.useState)(a.bgColor||"lightgray"),2),O=x[0],D=x[1],_=c?function(e){e.preventDefault(),c()}:null,S=(0,d.jsx)(se,{value:y,setValue:p,type:"text"}),P=i?(0,d.jsx)(de,{value:g,setValue:m,dateLocale:f.dateLocale}):(0,d.jsx)(se,{value:g,setValue:m,type:"datetime-local"}),E=i?(0,d.jsx)(de,{value:w,setValue:j,dateLocale:f.dateLocale}):(0,d.jsx)(se,{value:w,setValue:j,type:"datetime-local"}),C=s?(0,d.jsx)(ce,{value:O,setValue:D}):(0,d.jsx)(se,{value:O,setValue:D,type:"color"});return(0,d.jsx)(r,pe({},pe({labelInput:S,startInput:P,endInput:E,bgColorInput:C,handleSubmit:function(e){e.preventDefault(),l&&l({label:y,start:g,end:w,bgColor:O})},handleCancel:function(e){e.preventDefault(),u&&u()},handleDelete:_,values:{label:y,start:g,end:w,bgColor:O}},f)))}}function we(e){return function(t,r){return(0,d.jsxs)("div",{style:{position:"fixed",top:0,left:0,bottom:0,right:0,zIndex:999997},children:[(0,d.jsx)("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,backgroundColor:"white",opacity:.7,zIndex:999998}}),(0,d.jsx)("div",{style:{position:"relative",top:0,height:"100%",marginLeft:"auto",marginRight:"auto",display:"table",zIndex:999999},children:(0,d.jsx)("div",{style:{display:"table-cell",verticalAlign:"middle"},children:(0,d.jsx)(e,pe({},t))})})]})}}var je=36e5,xe=(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#fff",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x-circle",children:[(0,d.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,d.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,d.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),Oe=["labelInput","startInput","endInput","bgColorInput","handleSubmit","handleCancel","handleDelete","values","translations"];function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const _e=we((Se=be((function(t){var r,n,o=t.labelInput,i=t.startInput,a=t.endInput,s=t.bgColorInput,l=t.handleSubmit,u=(t.handleCancel,t.handleDelete),c=t.values,f=t.translations,h=void 0===f?{}:f,y=(function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}}(t,Oe),r=(0,e.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(r,n)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?De(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=y[0],v=y[1];function g(e){return p.filter((function(t){return t.field===e})).map((function(e,t){return(0,d.jsxs)("span",{children:[(0,d.jsx)(ue,{variant:"danger",children:e.text}),(0,d.jsx)("br",{})]},t)}))}return(0,d.jsxs)("form",{className:"mormat-scheduler-DefaultEventForm",onSubmit:function(e){e.preventDefault();var t=[];c.label||t.push({field:"event_desc",text:h.event_desc_required_msg||"description required"}),c.start>c.end&&t.push({field:"event_start",text:h.event_invalid_daterange_msg||"invalid date range"}),v(t),0===t.length&&l(e)},children:[(0,d.jsx)("p",{children:(0,d.jsxs)("label",{children:[h.event_desc_label||"Description",(0,d.jsx)("br",{}),g("event_desc"),o]})}),(0,d.jsx)("p",{children:(0,d.jsxs)("label",{children:[h.event_start_label||"From",(0,d.jsx)("br",{}),g("event_start"),i]})}),(0,d.jsx)("p",{children:(0,d.jsxs)("label",{children:[h.event_end_label||"To",(0,d.jsx)("br",{}),a]})}),(0,d.jsx)("p",{children:(0,d.jsxs)("label",{children:[h.event_bgcolor_label||"Color",(0,d.jsx)("br",{}),s]})}),(0,d.jsxs)("p",{children:[u&&(0,d.jsx)(le,{onClick:u,variant:"danger",children:h.delete_btn||"delete"})," ",(0,d.jsx)(le,{type:"submit",variant:"primary",children:h.ok_btn||"ok"})]})]})}),{useDatePicker:!0,useColorPicker:!0}),function(e){return(0,d.jsxs)("div",{className:"mormat-scheduler-withPopup",children:[(0,d.jsx)("a",{onClick:function(t){t.preventDefault(),e.onCancel&&e.onCancel()},children:xe}),(0,d.jsx)("div",{children:(0,d.jsx)(Se,pe({},e))})]})}));var Se;function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}var Ee=["labelInput","startInput","endInput","bgColorInput","handleSubmit","handleCancel","handleDelete"],Ce=["variant","children"];function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Re(e,t,r){return(t=function(e){var t=function(e){if("object"!=Pe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ae(e){var t=e.label,r=e.input,n=c(),o={id:n,className:"form-control"};return(0,d.jsx)(G.Provider,{value:o,children:(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{htmlFor:n,className:"form-label",children:t}),r]})})}function Ie(e){var t=e.variant,r=void 0===t?"primary":t,n=e.children,o=Te(e,Ce);return(0,d.jsx)("button",Me(Me({className:"btn btn-".concat(r," rounded-0 w-100")},o),{},{children:n}))}we(be((function(e){var t=e.labelInput,r=e.startInput,n=e.endInput,o=e.bgColorInput,i=e.handleSubmit,a=e.handleCancel,s=e.handleDelete;return Te(e,Ee),(0,d.jsxs)("div",{className:"mormat-scheduler-BootstrapEventForm card rounded-0",children:[(0,d.jsxs)("div",{className:"card-header",children:[(0,d.jsx)("strong",{children:"Edit event"}),(0,d.jsx)("button",{type:"button",className:"btn-close float-end","aria-label":"Close",onClick:a})]}),(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("form",{onSubmit:i,children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-8",children:[(0,d.jsx)(Ae,{label:"Label",input:t}),(0,d.jsx)(Ae,{label:"Start",input:r}),(0,d.jsx)(Ae,{label:"End",input:n}),(0,d.jsx)(Ae,{label:"Background color",input:o})]}),(0,d.jsx)("div",{className:"col-4",children:(0,d.jsxs)("div",{className:"vstack gap-3 h-100 position-relative",children:[(0,d.jsx)(Ie,{variant:"primary",type:"submit",children:"OK"}),(0,d.jsx)(Ie,{variant:"secondary",onClick:a,children:"Cancel"}),(0,d.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0},children:(0,d.jsx)(Ie,{variant:"danger",onClick:s,children:"Delete"})})]})})]})})})]})})));const Le=we((function(e){var t=e.message,r=e.onConfirm,n=e.onCancel,o=e.translations,i=void 0===o?{}:o;return(0,d.jsxs)("div",{className:"mormat-scheduler-OKCancelDialog",children:[(0,d.jsx)("p",{children:t}),(0,d.jsxs)("p",{children:[(0,d.jsx)(le,{onClick:function(e){e.preventDefault(),n()},children:i.cancel_btn||"Cancel"})," ",(0,d.jsx)(le,{onClick:function(e){e.preventDefault(),r()},variant:"primary",children:i.ok_btn||"Ok"})]})]})}));function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ze(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ue(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ue(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function He(r,n){return function(o){var i=We((0,e.useState)(),2),a=i[0],s=i[1],l=We((0,e.useState)(),2),u=l[0],c=l[1],f=We((0,e.useState)(!1),2),h=f[0],y=f[1],p=We((0,e.useState)(!1),2),v=p[0],g=p[1],m=(0,e.useMemo)((function(){return(0,d.jsx)(r,Ne({onEventAdd:function(e,t){s(e),c(t),y(!0)},onEventEdit:function(e,t){s(e),c(t),y(!1)}},o))}),[s]);return(0,d.jsxs)(d.Fragment,{children:[m,a&&(0,d.jsx)(n,{values:h?{}:a.values,onConfirm:function(e){var t;if(h){var r=u.pushEvent(e).id;t=r}else t=a.values.id,u.replaceEvent(e,(function(e){return t===e.id}));var n={valuesBefore:a.values,scheduler:u};h&&o.onEventCreate&&o.onEventCreate(e,Ne(Ne({},n),{},{setValues:function(e){u.replaceEvent(e,(function(e){return t===e.id}))}})),!h&&o.onEventUpdate&&o.onEventUpdate(Ne(Ne({},a.values),e),Ne({setValues:function(e){u.replaceEvent(e,(function(e){return t===e.id}))}},n)),s(null)},onCancel:function(){s(null)},onDelete:h?null:function(){g(!0)},translations:o.translations,dateLocale:o.dateLocale}),v&&(0,d.jsx)(Le,{message:((o.translations||{}).delete_event_confirm_msg||"Delete the '$event_label' event ?").replace("%event_label%",a.label),onConfirm:function(){if(u.removeEvent((function(e){return a.values.id===e.id})),s(null),o.onEventDelete){for(var e=Ne({},a.values),r=0,n=["start","end"];r<n.length;r++){var i=n[r];e[i]=t.utils.format_date("yyyy-mm-dd hh:ii",e[i])}o.onEventDelete(e,{undoDelete:function(){u.pushEvent(e)}})}g(!1)},onCancel:function(){g(!1)},translations:o.translations})]})}}var Be=function(t){return function(r){var n=t;return r.onEventAdd&&(n=function(t){return function(r){var n=r.onEventAdd,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,A),i=o.translations,a=void 0===i?{}:i,s=(0,e.useRef)();return(0,d.jsxs)("div",{ref:s,className:"mormat-scheduler-withEventAdd",style:{position:"absolute",top:0,right:0,bottom:0,left:0},children:[(0,d.jsx)(t,L({},o)),n&&(0,d.jsx)("a",{onClick:function(e){var t=k.get(s.current.querySelector("[data-scheduler]"));n({},t)},title:a.add_event_btn||"Add event",children:V})]})}}(n)),r.onEventEdit&&(n=function(t){return function(r){var n=r.onEventEdit,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,z),i=(0,e.useRef)();return(0,d.jsx)("div",{ref:i,children:(0,d.jsx)(t,F(F({},o),{},{onEventEdit:function(e){var t=k.get(i.current.querySelector("[data-scheduler]"));n(e,t)},eventsEditable:!0}))})}}(n)),(0,d.jsx)("div",{className:"mormat-scheduler",style:{position:"relative",minHeight:"480px",height:"100%"},children:(0,d.jsx)(n,q(q({},r),{},{eventsDraggable:r.onEventDrop,eventsResizeable:r.onEventResize}))})}}((function(t){var n=t.translations,o=void 0===n?{}:n,i=C(t,x),a=(0,e.useRef)(),s=P((0,e.useState)(i.viewMode||"week"),2),l=s[0],u=s[1],c=P((0,e.useState)(),2),f=c[0],h=c[1],p=P((0,e.useState)(""),2),v=p[0],g=p[1],m=function(){return k.get(a.current)};function b(e){var t=k.get(a.current);"function"==typeof e&&e({dateRange:t.getEventsDateRange(),setEvents:function(e){t.setOptions({events:e})}})}(0,e.useEffect)((function(){var e=i.events,t=i.onEventDrop,n=i.onEventResize,s=i.initialDate,l=C(i,O),u=a.current,c=r().render(u,_(_(_({},M),l),{},{translations:o,currentDate:s,eventsDraggable:"function"==typeof t,eventsResizeable:"function"==typeof n,eventsEditable:"function"==typeof i.onEventEdit,onEventDrop:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return R.apply(void 0,[c,t].concat(r))},onEventResize:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return R.apply(void 0,[c,n].concat(t))},styles:{position:"absolute",top:0,left:0,right:0,bottom:0}}));return g(c.getLabel()),k.set(u,c),Array.isArray(e)&&c.setOptions({events:e}),b(e),function(){k.delete(u)}}),[]),(0,e.useEffect)((function(){var e=k.get(a.current);e.setOptions({viewMode:l,headersVisible:"day"!==l}),g(e.getLabel()),b(i.events)}),[l,f]);var j=(0,d.jsxs)(y,{children:[(0,d.jsx)(y.ButtonGroup,{items:[{label:"<",onClick:function(e){e.preventDefault();var t=m();t.previous(),h(t.getOption("currentDate"))}},{label:o["header.today"]||"today",onClick:function(e){e.preventDefault();var t=m();t.today(),h(t.getOption("currentDate"))}},{label:">",onClick:function(e){e.preventDefault();var t=m();t.next(),h(t.getOption("currentDate"))}}]}),(0,d.jsx)("h4",{children:v}),(0,d.jsx)(y.ToggleGroup,{items:[{label:o["header.day"]||"day",value:"day"},{label:o["header.week"]||"week",value:"week"},{label:o["header.month"]||"month",value:"month"},{label:o["header.year"]||"year",value:"year"}],onChange:function(e){return u(e.target.value)},value:l})]});return(0,d.jsx)(w.FixedHeader,{header:j,body:(0,d.jsx)("div",{ref:a,"data-scheduler":!0,style:w.styles.full})})})),$e=He(Be,_e);const qe=Be})(),o})()));