/*! For license information please see jscheduler_ui.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jscheduler_ui=t():e.jscheduler_ui=t()}(self,(()=>{return e={11:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeStringify=void 0;const r=n(746),s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function a(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}t.unsafeStringify=a,t.default=function(e,t=0){const n=a(e,t);if(!(0,r.default)(n))throw TypeError("Stringified UUID is invalid");return n}},48:(e,t,n)=>{const{DateRange:r,format_date:s}=n(120);e.exports={createDragAndDropObserver:function({droppable:e,parentElement:t}){switch(e.type){case"days":return function({parentElement:e}){let t=null,n=null;return{onDrag:function({mouseEvent:r,droppable:s}){t=e.cloneNode(!0),t.style.display="none",document.body.appendChild(t),n=s.getClosestChild(r)},onMove:function({mouseEvent:s,draggable:a,droppable:i}){const o="resize_event"===a.type?n:i.getClosestChild(s),{day:l,minhour:u,maxhour:d}=o.getData(s),c=new r(l+" "+u,l+" "+d),h=a.getCurrentValue(),{start:f,end:g}=h,p=Math.max(c.calcPercentPosition(f)/100,0),v=Math.min(c.calcPercentPosition(g)/100,1)-p,y=o.getRect();t.style.position="absolute",t.style.display="block",t.style.left=y.x+"px",t.style.width=y.width+"px",t.style.height=y.height*v+"px",t.style.top=y.y+y.height*p+"px",t.querySelector(".jscheduler_ui-event-header").innerHTML=h.header,e.style.display="none"},onDrop:function(){document.body.removeChild(t),t=null}}}({parentElement:t});case"timeline":return function({parentElement:e}){let t=null;return{onDrag:function({mouseEvent:n}){t=e.cloneNode(!0),t.style.display="none",t.style["max-height"]="22px",document.body.appendChild(t)},onMove:function({mouseEvent:n,draggable:a,droppable:i}){const o=i.getClosestChild(n),l=o.getData(n),u=new r(l.daterange_start,l.daterange_end),d=a.getCurrentValue(),c=s("yyyy-mm-dd",d.start)+" 00:00:00",h=s("yyyy-mm-dd",d.start)+" 23:59:59",f=Math.max(u.calcPercentPosition(c)/100,0),g=Math.min(u.calcPercentPosition(h)/100,1)-f,p=o.getRect();t.style.position="absolute",t.style.display="block",t.style.top=p.y+"px",t.style.width=p.width*g+"px",t.style.left=p.x+p.width*f+"px",e.style.display="none"},onDrop:function({mouseEvent:e}){document.body.removeChild(t),t=null}}}({parentElement:t})}}}},120:e=>{const t={yyyy:e=>String(e.getFullYear()),mm:e=>("0"+(e.getMonth()+1)).slice(-2),dd:e=>("0"+e.getDate()).slice(-2),"yyyy-mm":e=>t.yyyy(e)+"-"+t.mm(e),"yyyy-mm-dd":e=>t["yyyy-mm"](e)+"-"+t.dd(e),hh:e=>("0"+e.getHours()).slice(-2),ii:e=>("0"+e.getMinutes()).slice(-2),ss:e=>("0"+e.getSeconds()).slice(-2),"hh:ii":e=>t.hh(e)+":"+t.ii(e),"hh:ii:ss":e=>t.hh(e)+":"+t.ii(e)+":"+t.ss(e),"yyyy-mm-dd hh:ii":e=>t["yyyy-mm-dd"](e)+" "+t["hh:ii"](e),"yyyy-mm-dd hh:ii:ss":e=>t["yyyy-mm-dd"](e)+" "+t["hh:ii:ss"](e)};class n{constructor(e){this.date=new Date(e)}get vars(){return{year:this.date.getFullYear(),monthIndex:this.date.getMonth(),day:this.date.getDate()}}getFirstDayOfWeek(){const e=new Date(this.date);return e.setDate(e.getDate()-e.getDay()+(0===e.getDay()?-6:1)),new n(e)}getLastDayOfWeek(){const e=new Date(this.date);return e.setDate(e.getDate()-e.getDay()+(0===e.getDay()?0:7)),new n(e)}getFirstDayOfMonth(){const e=new Date(this.date);return e.setDate(1),new n(e)}getLastDayOfMonth(){const e=new Date(this.date);return e.setDate(1),e.setMonth(e.getMonth()+1),e.setDate(e.getDate()-1),new n(e)}addDays(e){const t=new Date(this.date);return t.setDate(this.date.getDate()+e),new n(t)}addMonths(e){const t=new Date(this.date);return t.setMonth(this.date.getMonth()+e),new n(t)}getDate(){return this.date}get numday(){return this.date.getDate()}get month(){return this.date.getMonth()}toString(){return t["yyyy-mm-dd"](this.date)}}class r{constructor(e,t){this.start=new Date(e),this.end=new Date(t)}get length(){return this.end.getTime()-this.start.getTime()}contains(e){const t=new Date(e.start),n=new Date(e.end);return this.start<=t&&n<=this.end}intersects(e){const t=new Date(e.start),n=new Date(e.end);return n<this.start||this.end<t?null:new r(Math.max(this.start.getTime(),t.getTime()),Math.min(this.end.getTime(),n.getTime()))}calcPercentPosition(e){const t=new Date(e),n=this.end.getTime()-this.start.getTime();return 100*(t.getTime()-this.start.getTime())/n}}function s(e){const t=[],n=new Set;for(const r of e){if(n.has(r))continue;const a=e.filter((e=>e!==r&&r.intersects(e)));if(a.length){const e=s(a);for(const n of e)t.push([r,...n]);for(const e of a)n.add(e)}else t.push([r])}return t}function a(e){const t=new Map,n=e.sort(((e,t)=>t.length-e.length));for(const e of n){let n=1/e.length,r=0;for(const s in e)if(t.has(e[s])){const a=t.get(e[s]);r=a.offset+a.length,n=(1-r)/(e.length-s-1)}else t.set(e[s],{offset:r,length:n}),r+=n}return t}e.exports={format_date:function(e,n){const r=new Date(n);return t[e](r)},DateRange:r,Day:n,date_add_hour:function(e,t){const n=new Date(e);return n.setTime(n.getTime()+60*t*60*1e3),n},groupDateRangedItemsByPosition:function(e){const t=[];e:for(const n of e){const e=new r(n.start,n.end-1);for(const s in t)if(!t[s].find((t=>{const n=new r(t.start,t.end-1);return e.intersects(n)}))){t[s].push(n);continue e}t.push([n])}return t},getOffsetAndLengthByDateRanges:function(e){return a(s(e))},_groupDateRanges:s,_mapGroupedDateRanges:a}},182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=t.validate=t.v7=t.v6ToV1=t.v6=t.v5=t.v4=t.v3=t.v1ToV6=t.v1=t.stringify=t.parse=t.NIL=t.MAX=void 0;var r=n(196);Object.defineProperty(t,"MAX",{enumerable:!0,get:function(){return r.default}});var s=n(465);Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}});var a=n(797);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return a.default}});var i=n(11);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.default}});var o=n(425);Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return o.default}});var l=n(568);Object.defineProperty(t,"v1ToV6",{enumerable:!0,get:function(){return l.default}});var u=n(591);Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return u.default}});var d=n(286);Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return d.default}});var c=n(557);Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return c.default}});var h=n(356);Object.defineProperty(t,"v6",{enumerable:!0,get:function(){return h.default}});var f=n(268);Object.defineProperty(t,"v6ToV1",{enumerable:!0,get:function(){return f.default}});var g=n(299);Object.defineProperty(t,"v7",{enumerable:!0,get:function(){return g.default}});var p=n(746);Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return p.default}});var v=n(770);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return v.default}})},195:(e,t,n)=>{const{date_add_hour:r,format_date:s}=n(120),a=n(182);class i{#e={};constructor(e){this.#e=e||{},this.#e.id||(this.#e.id=a.v4()),this.init()}init(){const e=new Date(this.#e.start),t=new Date(this.#e.end?this.#e.end:r(e,2));this.#e={bgColor:"#0288d1",color:"white",...this.#e,start:e,end:t}}get values(){return this.#e}get id(){return this.#e.id}get start(){return this.#e.start}get end(){return this.#e.end}get label(){return this.#e.label}get color(){return this.#e.color}get bgColor(){return this.#e.bgColor}get length(){return this.end.getTime()-this.start.getTime()}get header(){return[this.start,this.end].map((e=>s("hh:ii",e))).join(" - ")}cloneWith(e){return new i({...this.values,...e})}isValid(){if(!this.label||!this.start||!this.end)return!1;const e=new Date(this.start),t=new Date(this.end);return!(isNaN(e)||isNaN(t)||t.getTime()<e.getTime())}}e.exports={SchedulerEvent:i,compareSchedulerEventsByDaysCount:function(e,t){const n=864e5,r=Math.round(Math.abs((e.end-e.start)/n));return Math.round(Math.abs((t.end-t.start)/n))-r}}},196:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(797),s=n(11);t.default=function(e){const t=(n="string"==typeof e?(0,r.default)(e):e,Uint8Array.of((15&n[3])<<4|n[4]>>4&15,(15&n[4])<<4|(240&n[5])>>4,(15&n[5])<<4|15&n[6],n[7],(15&n[1])<<4|(240&n[2])>>4,(15&n[2])<<4|(240&n[3])>>4,16|(240&n[0])>>4,(15&n[0])<<4|(240&n[1])>>4,n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]));var n;return"string"==typeof e?(0,s.unsafeStringify)(t):t}},271:(e,t,n)=>{const{Rectangle:r,calcDistance:s}=n(420);class a{#t;constructor(e){this.#t=e}getData(e){const t={...this.#t.dataset};if(e){const{x:n,y:r,width:s,height:a}=this.getRect();t.percentX=100*(e.pageX-n)/s,t.percentY=100*(e.pageY-r)/a}return t}getRect(){const{x:e,y:t,width:n,height:r}=this.#t.getBoundingClientRect();return{x:e+window.scrollX,y:t+window.scrollY,width:n,height:r}}}class i{#n;#r;constructor(e,t){this.#n=e,this.#r=t}get type(){return this.#r}getChildren(){this.#n}getData(e){const t=this.getClosestChild(e);return t?t.getData(e):{}}getRect(){const e=[];for(let t of this.#n)e.push(t.getRect());return r.createBounding(e)}getClosestChild(e){const t={x:e.pageX,y:e.pageY},n={},a=[];for(let e of this.#n){const i=new r(e.getRect());if(!i)continue;const o=s(t,i.getCenter());a.push(o),n[o]=e}return n[Math.min(...a)]}}e.exports={createDroppable:function({draggableElement:e}){const t=e.getAttribute("data-jscheduler_ui-droppable-target"),n=document.querySelector(t),r=n.getAttribute("data-jscheduler_ui-droppable-type");switch(r){case"days":{const e=[...n.querySelectorAll("td[data-jscheduler_ui-day]")];return new i(e.map((e=>new a(e))),r)}case"timeline":{const e=[...n.querySelectorAll("[data-daterange_start][data-daterange_end]")];return new i(e.map((e=>new a(e))),r)}}}}},284:e=>{e.exports={composeMaps:function(e,t){const n=new Map;for(const[r,s]of e.entries())n.set(r,t.get(s));return n}}},286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(779),s=n(291),a=n(11);t.default=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const i=(e=e||{}).random??e.rng?.()??(0,s.default)();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=i[e];return t}return(0,a.unsafeStringify)(i)}},291:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0});const r=new Uint8Array(16);t.default=function(){if(!n){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(r)}},299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV7State=void 0;const r=n(291),s=n(11),a={};function i(e,t,n){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=n[6]<<23|n[7]<<16|n[8]<<8|n[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++),e}function o(e,t,n,r,s=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(r){if(s<0||s+16>r.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`)}else r=new Uint8Array(16),s=0;return t??=Date.now(),n??=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9],r[s++]=t/1099511627776&255,r[s++]=t/4294967296&255,r[s++]=t/16777216&255,r[s++]=t/65536&255,r[s++]=t/256&255,r[s++]=255&t,r[s++]=112|n>>>28&15,r[s++]=n>>>20&255,r[s++]=128|n>>>14&63,r[s++]=n>>>6&255,r[s++]=n<<2&255|3&e[10],r[s++]=e[11],r[s++]=e[12],r[s++]=e[13],r[s++]=e[14],r[s++]=e[15],r}t.updateV7State=i,t.default=function(e,t,n){let l;if(e)l=o(e.random??e.rng?.()??(0,r.default)(),e.msecs,e.seq,t,n);else{const e=Date.now(),s=(0,r.default)();i(a,e,s),l=o(s,a.msecs,a.seq,t,n)}return t??(0,s.unsafeStringify)(l)}},316:(e,t,n)=>{const{createDragAndDropObserver:r}=n(48),{createDroppable:s}=n(271),{createDraggable:a}=n(903);e.exports={SchedulerListener:function(e,t){const{onEventDrop:n,onEventResize:i,onEventClick:o,onEventEdit:l}=e;function u(){const{events:e}=t.values;return e}function d(e){const{events:n}=t.values;t.update({events:n.map((t=>t.id!==e.id?t:e))})}function c(e){if(g(e,".jscheduler_ui-event-edit")){e.preventDefault();const t=e.target.closest(".jscheduler_ui-event"),n=u().find((function({id:e}){return t.dataset.eventId===String(e)}));n&&l(n)}else if(g(e,".jscheduler_ui-event a")){e.preventDefault();const t=e.target.closest(".jscheduler_ui-event"),n=u().find((function({id:e}){return t.dataset.eventId===String(e)}));n&&o(n)}}function h(e){if(g(e,".jscheduler_ui-event .jscheduler_ui-resize-handler")){e.preventDefault();const t=e.target.closest(".jscheduler_ui-event"),n=u().find((function({id:e}){return t.dataset.eventId===String(e)})),o=s({draggableElement:t}),l=a("resize_event",{onChange:function(e,t){d(e),i(e,t)},schedulerEvent:n}),c=r({droppable:o,parentElement:t});l.startDragAndDrop({mouseEvent:e,observer:c,droppable:o})}}function f(e){if(g(e,".jscheduler_ui-event .jscheduler_ui-draggable")){e.preventDefault();const t=e.target.closest(".jscheduler_ui-event"),i=u().find((function({id:e}){return t.dataset.eventId===String(e)})),o=s({draggableElement:t}),l=a(t.matches(".jscheduler_ui-event-timeline")?"move_event_timeline":"move_event_day",{onChange:function(e,t){d(e),n(e,t)},schedulerEvent:i}),c=r({droppable:o,parentElement:t});l.startDragAndDrop({mouseEvent:e,observer:c,droppable:o})}}function g(e,t){for(const n of e.composedPath())if(n instanceof Element&&n.matches(t))return!0}this.register=function(e){e.addEventListener("click",c),e.addEventListener("mousedown",h),e.addEventListener("mousedown",f)},this.unregister=function(e){e.removeEventListener("click",c),e.removeEventListener("mousedown",h),e.removeEventListener("mousedown",f)}}}},338:(e,t)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,s,a,i){return r((o=r(r(t,e),r(s,i)))<<(l=a)|o>>>32-l,n);var o,l}function a(e,t,n,r,a,i,o){return s(t&n|~t&r,e,t,a,i,o)}function i(e,t,n,r,a,i,o){return s(t&r|n&~r,e,t,a,i,o)}function o(e,t,n,r,a,i,o){return s(t^n^r,e,t,a,i,o)}function l(e,t,n,r,a,i,o){return s(n^(t|~r),e,t,a,i,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(e){const t=new Uint8Array(4*e.length);for(let n=0;n<4*e.length;n++)t[n]=e[n>>2]>>>n%4*8&255;return t}(function(e,t){const s=new Uint32Array(n(t)).fill(0);s.set(e),s[t>>5]|=128<<t%32,s[s.length-1]=t,e=s;let u=1732584193,d=-271733879,c=-1732584194,h=271733878;for(let t=0;t<e.length;t+=16){const n=u,s=d,f=c,g=h;u=a(u,d,c,h,e[t],7,-680876936),h=a(h,u,d,c,e[t+1],12,-389564586),c=a(c,h,u,d,e[t+2],17,606105819),d=a(d,c,h,u,e[t+3],22,-1044525330),u=a(u,d,c,h,e[t+4],7,-176418897),h=a(h,u,d,c,e[t+5],12,1200080426),c=a(c,h,u,d,e[t+6],17,-1473231341),d=a(d,c,h,u,e[t+7],22,-45705983),u=a(u,d,c,h,e[t+8],7,1770035416),h=a(h,u,d,c,e[t+9],12,-1958414417),c=a(c,h,u,d,e[t+10],17,-42063),d=a(d,c,h,u,e[t+11],22,-1990404162),u=a(u,d,c,h,e[t+12],7,1804603682),h=a(h,u,d,c,e[t+13],12,-40341101),c=a(c,h,u,d,e[t+14],17,-1502002290),d=a(d,c,h,u,e[t+15],22,1236535329),u=i(u,d,c,h,e[t+1],5,-165796510),h=i(h,u,d,c,e[t+6],9,-1069501632),c=i(c,h,u,d,e[t+11],14,643717713),d=i(d,c,h,u,e[t],20,-373897302),u=i(u,d,c,h,e[t+5],5,-701558691),h=i(h,u,d,c,e[t+10],9,38016083),c=i(c,h,u,d,e[t+15],14,-660478335),d=i(d,c,h,u,e[t+4],20,-405537848),u=i(u,d,c,h,e[t+9],5,568446438),h=i(h,u,d,c,e[t+14],9,-1019803690),c=i(c,h,u,d,e[t+3],14,-187363961),d=i(d,c,h,u,e[t+8],20,1163531501),u=i(u,d,c,h,e[t+13],5,-1444681467),h=i(h,u,d,c,e[t+2],9,-51403784),c=i(c,h,u,d,e[t+7],14,1735328473),d=i(d,c,h,u,e[t+12],20,-1926607734),u=o(u,d,c,h,e[t+5],4,-378558),h=o(h,u,d,c,e[t+8],11,-2022574463),c=o(c,h,u,d,e[t+11],16,1839030562),d=o(d,c,h,u,e[t+14],23,-35309556),u=o(u,d,c,h,e[t+1],4,-1530992060),h=o(h,u,d,c,e[t+4],11,1272893353),c=o(c,h,u,d,e[t+7],16,-155497632),d=o(d,c,h,u,e[t+10],23,-1094730640),u=o(u,d,c,h,e[t+13],4,681279174),h=o(h,u,d,c,e[t],11,-358537222),c=o(c,h,u,d,e[t+3],16,-722521979),d=o(d,c,h,u,e[t+6],23,76029189),u=o(u,d,c,h,e[t+9],4,-640364487),h=o(h,u,d,c,e[t+12],11,-421815835),c=o(c,h,u,d,e[t+15],16,530742520),d=o(d,c,h,u,e[t+2],23,-995338651),u=l(u,d,c,h,e[t],6,-198630844),h=l(h,u,d,c,e[t+7],10,1126891415),c=l(c,h,u,d,e[t+14],15,-1416354905),d=l(d,c,h,u,e[t+5],21,-57434055),u=l(u,d,c,h,e[t+12],6,1700485571),h=l(h,u,d,c,e[t+3],10,-1894986606),c=l(c,h,u,d,e[t+10],15,-1051523),d=l(d,c,h,u,e[t+1],21,-2054922799),u=l(u,d,c,h,e[t+8],6,1873313359),h=l(h,u,d,c,e[t+15],10,-30611744),c=l(c,h,u,d,e[t+6],15,-1560198380),d=l(d,c,h,u,e[t+13],21,1309151649),u=l(u,d,c,h,e[t+4],6,-145523070),h=l(h,u,d,c,e[t+11],10,-1120210379),c=l(c,h,u,d,e[t+2],15,718787259),d=l(d,c,h,u,e[t+9],21,-343485551),u=r(u,n),d=r(d,s),c=r(c,f),h=r(h,g)}return Uint32Array.of(u,d,c,h)}(function(e){if(0===e.length)return new Uint32Array;const t=new Uint32Array(n(8*e.length)).fill(0);for(let n=0;n<e.length;n++)t[n>>2]|=(255&e[n])<<n%4*8;return t}(e),8*e.length))}},350:(e,t,n)=>{const{SchedulerEvent:r}=n(195);e.exports={StateHandler:class{#e;#s;#a;constructor(e,t={}){this.#e={...e},this.#s=t.onUpdate||(()=>{}),this.#a=t.reducers||[]}get values(){return this.#e}update(e){const t=this.#a.reduce(((e,t)=>({...e,...t(e)})),e);this.#e={...this.#e,...t},this.#s(this)}},reduceEvents:function(e){return"events"in e?{events:e.events.map((e=>e instanceof r?e:new r(e)))}:{}},reduceCurrentDate:function(e){if("currentDate"in e){if(e.currentDate)return{};const{events:t}=e;if(t){const e=t.map((e=>new Date(e.start))).filter((e=>!isNaN(e)));if(e.length)return{currentDate:Math.min(...e.map((e=>e.getTime())))}}return{currentDate:Date.now()}}return{}}}},356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),s=n(425),a=n(568);t.default=function(e,t,n){e??={},n??=0;let i=(0,s.default)({...e,_v6:!0},new Uint8Array(16));if(i=(0,a.default)(i),t){for(let e=0;e<16;e++)t[n+e]=i[e];return t}return(0,r.unsafeStringify)(i)}},420:e=>{class t{x;y;width;height;constructor({x:e,y:t,width:n,height:r}){this.x=e,this.y=t,this.width=n,this.height=r}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}contains(e){return this.x<=e.x&&this.y<=e.y&&e.x+e.width<=this.x+this.width&&e.y+e.height<=this.y+this.height}includes(e){return this.x<=e.x&&this.y<=e.y&&e.x<=this.x+this.width&&e.y<=this.y+this.height}getCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}intersectsWith(e){return!(e.x>this.x+this.width||e.x+e.width<this.x||e.y>this.y+this.height||e.y+e.height<this.y)}static createBounding(e){const n=Math.min(...e.map((e=>e.x))),r=Math.min(...e.map((e=>e.y))),s=Math.max(...e.map((e=>e.x+e.width))),a=Math.max(...e.map((e=>e.y+e.height)));return new t({x:n,y:r,width:s-n,height:a-r})}}e.exports={Rectangle:t,calcDistance:function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}}},425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV1State=void 0;const r=n(291),s=n(11),a={};function i(e,t,n){return e.msecs??=-1/0,e.nsecs??=0,t===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):t>e.msecs?e.nsecs=0:t<e.msecs&&(e.node=void 0),e.node||(e.node=n.slice(10,16),e.node[0]|=1,e.clockseq=16383&(n[8]<<8|n[9])),e.msecs=t,e}function o(e,t,n,r,s,a,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(a){if(i<0||i+16>a.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`)}else a=new Uint8Array(16),i=0;t??=Date.now(),n??=0,r??=16383&(e[8]<<8|e[9]),s??=e.slice(10,16);const o=(1e4*(268435455&(t+=122192928e5))+n)%4294967296;a[i++]=o>>>24&255,a[i++]=o>>>16&255,a[i++]=o>>>8&255,a[i++]=255&o;const l=t/4294967296*1e4&268435455;a[i++]=l>>>8&255,a[i++]=255&l,a[i++]=l>>>24&15|16,a[i++]=l>>>16&255,a[i++]=r>>>8|128,a[i++]=255&r;for(let e=0;e<6;++e)a[i++]=s[e];return a}t.updateV1State=i,t.default=function(e,t,n){let l;const u=e?._v6??!1;if(e){const t=Object.keys(e);1===t.length&&"_v6"===t[0]&&(e=void 0)}if(e)l=o(e.random??e.rng?.()??(0,r.default)(),e.msecs,e.nsecs,e.clockseq,e.node,t,n);else{const e=Date.now(),s=(0,r.default)();i(a,e,s),l=o(s,a.msecs,a.nsecs,u?void 0:a.clockseq,u?void 0:a.node,t,n)}return t??(0,s.unsafeStringify)(l)}},465:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="00000000-0000-0000-0000-000000000000"},466:(e,t,n)=>{const{Scheduler:r}=n(970),{format_date:s,Day:a}=n(120),i={format_date:s,Day:a};e.exports={render:function(e,t){const n=Array.isArray(t)?{events:t}:t,s={},a={};for(const[e,t]of Object.entries(n))e.startsWith("on")?a[e]=t:s[e]=t;return new r(e,s,a)},utils:i,name:"@mormat/jscheduler_ui",version:"0.9.4"}},557:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const r=n(829),s=n(988);var a=n(988);function i(e,t,n,a){return(0,s.default)(80,r.default,e,t,n,a)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return a.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return a.URL}}),i.DNS=s.DNS,i.URL=s.URL,t.default=i},568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(797),s=n(11);t.default=function(e){const t=(n="string"==typeof e?(0,r.default)(e):e,Uint8Array.of((15&n[6])<<4|n[7]>>4&15,(15&n[7])<<4|(240&n[4])>>4,(15&n[4])<<4|(240&n[5])>>4,(15&n[5])<<4|(240&n[0])>>4,(15&n[0])<<4|(240&n[1])>>4,(15&n[1])<<4|(240&n[2])>>4,96|15&n[2],n[3],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]));var n;return"string"==typeof e?(0,s.unsafeStringify)(t):t}},591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const r=n(338),s=n(988);var a=n(988);function i(e,t,n,a){return(0,s.default)(48,r.default,e,t,n,a)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return a.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return a.URL}}),i.DNS=s.DNS,i.URL=s.URL,t.default=i},623:(e,t,n)=>{const{Day:r,DateRange:s}=n(120);class a{#i;#o;#l;#u;#d;constructor({eventsDateRange:e,minHour:t,maxHour:n,dateLocale:r,events:s}){this.#i=e,this.#o=t,this.#l=n,this.#u=r,this.#d=s}get eventsDateRange(){return this.#i}get minHour(){return this.#o}get maxHour(){return this.#l}get dateLocale(){return this.#u}get hours(){return[...Array(this.#l-this.#o+1)].map(((e,t)=>t+this.#o))}get days(){const e=new r(this.#i.end),t=[new r(this.#i.start)];for(;t.at(-1)<e;)t.push(t.at(-1).addDays(1));return t}get vars(){const{eventsDateRange:e,minHour:t,maxHour:n}=this,r=this.#d.filter((t=>e.intersects(t))),a=this.hours.map((e=>({label:String(e).padStart(2,"0")+":00",value:e}))),i=this.days.map((e=>{const t=new s(e+` ${this.#o}:00:00`,e+` ${this.#l+1}:00:00`),n=new Date(e).toLocaleString(this.#u,{weekday:"short",month:"short",day:"numeric"});return{value:e,events:r.filter((e=>t.contains(e))),label:n,dateRange:t}})),o=r.filter((function(e){return-1===i.findIndex((t=>t.events.includes(e)))}));return{hours:a,days:i,spannedEvents:o,minHour:t,maxHour:n,eventsDateRange:e}}}e.exports={DayView:class extends a{constructor({currentDate:e,...t}){const n=new r(e||Date.now());super({eventsDateRange:new s(n+" 00:00:00",n+" 23:59:59.999"),...t})}get label(){const{start:e}=this.eventsDateRange;return e.toLocaleString(this.dateLocale,{weekday:"long",month:"long",day:"numeric",year:"numeric"})}},WeekView:class extends a{constructor({currentDate:e,...t}){const n=new r(e||Date.now()).getFirstDayOfWeek(),a=n.addDays(6);super({eventsDateRange:new s(n+" 00:00:00",a+" 23:59:59.999"),...t})}get label(){const{start:e,end:t}=this.eventsDateRange;return e.toLocaleString(this.dateLocale,{month:"short",day:"numeric",year:"numeric"})+" - "+t.toLocaleString(this.dateLocale,{month:"short",day:"numeric",year:"numeric"})}},MonthView:class{#c;#u;#d;constructor({currentDate:e,dateLocale:t,events:n}){this.#c=e,this.#u=t,this.#d=n}get eventsDateRange(){const e=new r(this.#c),t=e.getFirstDayOfMonth().getFirstDayOfWeek(),n=e.getLastDayOfMonth().getLastDayOfWeek();return new s(t+" 00:00:00",n+" 23:59:59.999")}get label(){return new Date(this.#c).toLocaleString(this.#u,{month:"long",year:"numeric"})}get weeks(){const e=this.eventsDateRange,t=[];let n=new r(e.start),s=new r(e.end);for(;n<=s;){const e=[n];for(let t=1;t<7;t++)e.push(e[0].addDays(t));t.push(e),n=n.addDays(7)}return t}get vars(){const e=new r(this.#c),t=this.weeks.map((t=>{const n=new s(t.at(0)+" 00:00:00",t.at(-1)+" 23:59:59.999"),r=this.#d.filter((e=>n.intersects(e)));return{days:t.map((t=>({numday:t.numday,value:t,isCurrentMonth:t.month===e.month}))),dateRange:n,events:r}}));return{weekdays:t[0].days.map((({value:e})=>e.date.toLocaleString(this.#u,{weekday:"short"}))),weeks:t}}}}},697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},746:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(697);t.default=function(e){return"string"==typeof e&&r.default.test(e)}},770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(746);t.default=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},779:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:n}},797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(746);t.default=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,255&t,(t=parseInt(e.slice(9,13),16))>>>8,255&t,(t=parseInt(e.slice(14,18),16))>>>8,255&t,(t=parseInt(e.slice(19,23),16))>>>8,255&t,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,255&t)}},807:(e,t,n)=>{const{Day:r,format_date:s,DateRange:a}=n(120),{groupDateRangedItemsByPosition:i}=n(120),{getOffsetAndLengthByDateRanges:o}=n(120),{composeMaps:l}=n(284),{compareSchedulerEventsByDaysCount:u}=n(195),d=n(965),{DayView:c,WeekView:h,MonthView:f}=n(623),g={events_row:'<div data-daterange_start = "{{ dateRange.start }}" data-daterange_end = "{{ dateRange.end }}" style = " width: 100%; height: {{ style.height }}; position: relative " > {{# for_each_events }} <div class = "jscheduler_ui-event jscheduler_ui-event-timeline {{ className }}" style = " position: absolute; top: {{ style.top }}; left: {{ style.left }}; right: {{ style.right }}; height: {{ style.height }}; color: {{ style.color }}; background-color: {{ style.backgroundColor }} " data-event-id = "{{ event.id }}" data-jscheduler_ui-droppable-target = "{{ eventDroppableTarget }}" > {{# if_draggable }} <div class="jscheduler_ui-draggable" style=" position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 1 " > </div> {{/ if_draggable }} {{# if_clickable }} <span style="position: relative; z-index: 2"> <a href="#" style="color: {{ event.color }}"> {{ event.label }} </a> </span> {{/ if_clickable }} {{^ if_clickable }} <span style="color: {{ event.color }}"> {{ event.label }} </span> {{/ if_clickable }} {{# if_editable }} <a class="jscheduler_ui-event-edit" href="#" title = "{{ translations.edit_event_btn }}" > <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> </a> {{/ if_editable }} </div> {{/ for_each_events }} </div>',events_column:' {{# for_each_events }} <div class="jscheduler_ui-event jscheduler_ui-event-day {{ className }}" style="position: absolute; top: {{ style.top }}; bottom: {{ style.bottom }}; left: {{ style.left }}; width: {{ style.width }}; background-color: {{ style.backgroundColor }} " data-event-id="{{event.id}}" data-jscheduler_ui-droppable-target="{{eventDroppableTarget}}" > {{# if_draggable }} <div class="jscheduler_ui-draggable" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 1" > </div> {{/ if_draggable }} {{# if_resizeable }} <div class="jscheduler_ui-resize-handler" style="position: absolute; left: 0; right: 0; bottom: 0; height: 10px; z-index: 2" > </div> {{/ if_resizeable }} {{# if_clickable }} <span style="position: relative; color: {{ event.color }}; z-index: 3;" > <a class="jscheduler_ui-event-header" href="#"> {{ event.header }} </a> <br/> <a href="#"> {{ event.label }} </a> </span> {{/ if_clickable }} {{^ if_clickable }} <span style="color: {{ event.color }}"> <span class="jscheduler_ui-event-header"> {{ event.header }} </span> <br/> {{ event.label }} </span> {{/ if_clickable }} {{# if_editable }} <a class = "jscheduler_ui-event-edit" href = "#" title = "{{ translations.edit_event_btn }}" > <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> </a> {{/ if_editable }} </div> {{/ for_each_events }} ',grid:'{{ #hseps }} <div class="jscheduler_ui-hsep" style="position: absolute; left: {{ style.left }}; top: 0; height: 100%; width: 1px; " > </div> {{ /hseps }} {{#vseps}} <div class="jscheduler_ui-vsep" style="position: absolute; top: {{ style.top }}; left: 0; width: 100%; height: 1px;" > </div> {{/vseps}}'};class p{#h;#f;#g;#p;#v;constructor({eventsClickable:e,eventsResizeable:t,eventsDraggable:n,eventsEditable:r,translations:s={}}){this.#h=e,this.#f=n,this.#g=t,this.#p=r,this.#v={edit_event_btn:"Edit the event",...s}}getTranslations(){return this.#v}withEventsColumnPartial({events:e,dateRange:t,eventDroppableTarget:n}){const r=i(e.filter((e=>t.contains(e))));return{for_each_events:r.map(((e,s)=>e.map((e=>{const a={position:"absolute",top:b(t.calcPercentPosition(e.start),2)+"%",bottom:b(100-t.calcPercentPosition(e.end),2)+"%",left:100*s/r.length+"%",width:100/r.length+"%"};let i="";return D.includes(e.bgColor)?i="bg-"+e.bgColor:a.backgroundColor=e.bgColor,{if_draggable:this.#f,if_resizeable:this.#g,if_clickable:this.#h,if_editable:this.#p,event:e,eventDroppableTarget:n,style:a,className:i}})))).flat()}}withEventsRowPartial({events:e,dateRange:t,eventDroppableTarget:n}){const i=[...e].sort(u),d=new Map(i.map((e=>{const t=new Date(new r(e.start)+" 00:00:00.000"),n=new Date(new r(e.end)+" 23:59:59.999");return[e,new a(t,n)]}))),c=l(d,o([...d.values()]));return{for_each_events:e.map((e=>{const s=t.intersects(e);if(!s)return null;const a=new r(s.start)+" 00:00:00",i=new r(s.end)+" 23:59:59",o={top:100*c.get(e).offset+"%",height:100*c.get(e).length+"%",left:t.calcPercentPosition(a)+"%",right:100-t.calcPercentPosition(i)+"%"};let l="";return D.includes(e.bgColor)?l="bg-"+e.bgColor:o.backgroundColor=e.bgColor,{if_draggable:this.#f,if_clickable:this.#h,if_editable:this.#p,event:e,eventDroppableTarget:n,style:o,className:l}})).filter((e=>e)),dateRange:{start:s("yyyy-mm-dd hh:ii:ss",t.start),end:s("yyyy-mm-dd hh:ii:ss",t.end)},style:{height:"100%"}}}withGridPartial({cols:e=1,rows:t=1}){return{hseps:[...Array(e-1)].map(((t,n)=>({style:{left:100*(n+1)/e+"%"}}))),vseps:[...Array(t-1)].map(((e,n)=>({style:{top:100*(n+1)/t+"%"}})))}}}class v extends p{render(e){const t={...e.vars};t.translations=this.getTranslations(),t.headerId="jscheduler_ui-"+w(),t.bodyId="jscheduler_ui-"+w(),t.has_header=t.days.length>1;for(const e of t.hours)e.style={width:"5%"};for(const n of t.days)n.style={width:b(95/t.days.length,2)+"%"},n.rowspan=t.hours.length,n.data={day:n.value,minhour:`${e.minHour}:00:00`,maxhour:`${e.maxHour+1}:00:00`},n.events_column=this.withEventsColumnPartial({events:n.events,dateRange:n.dateRange,eventDroppableTarget:"#"+t.bodyId});if(t.hours[0]._days=t.days,t.hours[0].grid=this.withGridPartial({rows:e.hours.length}),t["hours[0]"]=t.hours[0],t.spannedEvents.length){const e=new Map(t.spannedEvents.map((e=>[e,new a(e.start,e.end)]))),n=l(e,o([...e.values()])),r=Math.min(...[...n.values()].map((e=>e.length)));t.events_row={...this.withEventsRowPartial({events:t.spannedEvents,dateRange:t.eventsDateRange,eventDroppableTarget:"#"+t.headerId}),colspan:t.days.length},t.events_row_height=22/r+"px"}return d.render('<table id="{{headerId}}" class="jscheduler_ui-day_view-header jscheduler_ui-daterange" style="width: 100%; table-layout: fixed; flex: 0 1 auto;" data-jscheduler_ui-droppable-type="timeline" > {{# has_header }} <thead> <tr> <td style="width: {{ hours[0].style.width }}"> </td> {{# days }} <th style="width: {{ style.width }}; text-align: center" class="jscheduler_ui-daterange-header jscheduler_ui-day-header" > {{ label }} </th> {{/ days }} </tr> </thead> {{/ has_header }} {{# events_row }} <tbody> <tr> <td style="width: {{ hours[0].style.width }}"></td> <td class="jscheduler_ui-daterange-row" colspan="{{ colspan }}" style="height: {{ events_row_height }}" > {{> events_row }} </td> </tr> </tbody> {{/ events_row }} </table> <table id="{{bodyId}}" class="jscheduler_ui-day_view-body" style="width: 100%; table-layout: fixed; flex: 1 1 auto;" data-jscheduler_ui-droppable-type="days" > <tbody style="position: relative"> {{# hours }} <tr> <th style="width: {{ style.width }}" data-hour> {{ label }} {{ #grid }} {{> grid }} {{ /grid }} </div> </th> {{# _days }} <td style = "width: {{ style.width }}%; position: relative" rowspan = "{{ rowspan }}" data-jscheduler_ui-day = "{{ data.day }}" data-day = "{{ data.day }}" data-minhour = "{{ data.minhour }}" data-maxhour = "{{ data.maxhour }}" > {{# events_column }} {{> events_column }} {{/ events_column }} </td> {{/ _days }} </tr> {{/ hours }} </tbody> </table> ',t,g)}}class y extends p{render(e){const t={...e.vars};t.translations=this.getTranslations(),t.bodyId="jscheduler_ui-"+w();for(const n of t.weeks){n.events_row=this.withEventsRowPartial({eventDroppableTarget:"#"+t.bodyId,dateRange:n.dateRange,events:n.events}),n.style={height:100/e.weeks.length+"%"},n.grid=this.withGridPartial({cols:7});for(const e in n.days){const t=n.days[e];t.style={width:100/7+"%",left:100*e/7+"%"},t.active=function(){return t.isCurrentMonth?"active":"inactive"}}}return d.render(' <table class="jscheduler_ui-month_view" style="width: 100%; table-layout: fixed; flex: 1 1 auto;" > <thead> <tr> {{ #weekdays }} <th style="width: 14.28%"> {{ . }} </th> {{ /weekdays }} </tr> </thead> <tbody id="{{bodyId}}" data-jscheduler_ui-droppable-type="timeline" > {{ #weeks }} <tr> <td colspan="7" style="position: relative; height: {{ style.height }}; " class="jscheduler_ui-daterange" > <div> {{ #grid }} {{> grid }} {{ /grid }} {{ #days }} <span style="width: {{ style.width }}; left: {{ style.left }}; top: 0; position: absolute; text-align: right; " class="jscheduler_ui-month_view-numday jscheduler_ui-month_view-numday-{{ active }} jscheduler_ui-daterange-header " >{{ numday }}</span> {{ /days }} </div> {{ #events_row }} <div class="jscheduler_ui-daterange-row" style=" position: absolute; top: 0; bottom: 0; left: 0; right: 0; padding-top: 20px; " > {{> events_row }} </div> {{ /events_row }} </td> </tr> {{ /weeks }} </tbody> </table> ',t,g)}}function m(e,{styles:t}){this.render=function(n){const r={innerHTML:e.render(n),styles:Object.entries(t).map((([e,t])=>({name:e,value:t})))};return d.render('<div class="jscheduler_ui" style="display: flex; flex-flow: column; {{# styles }} {{ name }}:{{ value}}; {{/ styles }}" > {{{ innerHTML }}} </div>',r)}}const w=function(){let e=0;return()=>++e}();function b(e,t=0){const n=Math.pow(10,t);return Math.round(e*n)/n}const D=["primary","secondary","success","danger","warning","info","light","dark","white"];e.exports={createViewRenderer:function(e,t){return e instanceof c||e instanceof h?new m(new v(t),t):e instanceof f?new m(new y(t),t):void 0}}},829:(e,t)=>{"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],s=[1732584193,4023233417,2562383102,271733878,3285377520],a=new Uint8Array(e.length+1);a.set(e),a[e.length]=128;const i=(e=a).length/4+2,o=Math.ceil(i/16),l=new Array(o);for(let t=0;t<o;++t){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];l[t]=n}l[o-1][14]=8*(e.length-1)/Math.pow(2,32),l[o-1][14]=Math.floor(l[o-1][14]),l[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const a=new Uint32Array(80);for(let t=0;t<16;++t)a[t]=l[e][t];for(let e=16;e<80;++e)a[e]=r(a[e-3]^a[e-8]^a[e-14]^a[e-16],1);let i=s[0],o=s[1],u=s[2],d=s[3],c=s[4];for(let e=0;e<80;++e){const s=Math.floor(e/20),l=r(i,5)+n(s,o,u,d)+c+t[s]+a[e]>>>0;c=d,d=u,u=r(o,30)>>>0,o=i,i=l}s[0]=s[0]+i>>>0,s[1]=s[1]+o>>>0,s[2]=s[2]+u>>>0,s[3]=s[3]+d>>>0,s[4]=s[4]+c>>>0}return Uint8Array.of(s[0]>>24,s[0]>>16,s[0]>>8,s[0],s[1]>>24,s[1]>>16,s[1]>>8,s[1],s[2]>>24,s[2]>>16,s[2]>>8,s[2],s[3]>>24,s[3]>>16,s[3]>>8,s[3],s[4]>>24,s[4]>>16,s[4]>>8,s[4])}},903:(e,t,n)=>{const{DateRange:r,format_date:s}=n(120);class a{drag(){}move(){}drop(){}startDragAndDrop({mouseEvent:e,observer:t,droppable:n}){if(e.preventDefault(),0!==e.button)return;const r=this;this.drag({mouseEvent:e,droppable:n}),t.onDrag({mouseEvent:e,draggable:r,droppable:n});const s=e=>{this.move({mouseEvent:e,droppable:n}),t.onMove({mouseEvent:e,draggable:r,droppable:n})},a=e=>{this.drop({mouseEvent:e,droppable:n}),t.onDrop({mouseEvent:e,draggable:r,droppable:n}),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)}}class i extends a{#y;#m;#w;constructor(e,t){super(),this.#y=e,this.#w=t}getCurrentValue(){return this.#m}drag(){this.#m=this.#y}move({mouseEvent:e,droppable:t}){const n=t.getData(e),a=new r(n.daterange_start,n.daterange_end);let{percentX:i}=n;i=Math.min(i,100),i=Math.max(i,0);let o=a.start.getTime();o+=a.length*i/100,o=new Date(s("yyyy-mm-dd",o)+" "+s("hh:ii:ss",this.#y.start));const l=o.getTime()+this.#y.length;this.#m=this.#m.cloneWith({start:o,end:l})}drop(){const{start:e,end:t}=this.#m,n=this.#y.values;this.#w({...n,start:e,end:t},n)}}class o extends a{#y;#m=null;#w;#b=0;constructor(e,t){super(),this.#y=e,this.#w=t}getCurrentValue(){return this.#m}getCurrentTimestamp({mouseEvent:e,droppable:t}){const{percentY:n,day:s,minhour:a,maxhour:i}=t.getData(e),o=new r(s+" "+a,s+" "+i);return o.start.getTime()+o.length*n/100}drag({mouseEvent:e,droppable:t}){this.#m=this.#y;const n=this.getCurrentTimestamp({mouseEvent:e,droppable:t});this.#b=this.#y.start.getTime()-n}move({mouseEvent:e,droppable:t}){const{day:n,minhour:s,maxhour:a}=t.getData(e),i=new r(n+" "+s,n+" "+a);let o=this.getCurrentTimestamp({mouseEvent:e,droppable:t})+this.#b;o-=o%9e5,o<i.start.getTime()&&(o=i.start.getTime()),o+this.#y.length>i.end.getTime()&&(o=i.end.getTime()-this.#y.length),this.#m=this.#m.cloneWith({start:o,end:o+this.#y.length})}drop(){const{start:e,end:t}=this.#m,n=this.#y.values;this.#w({...n,start:e,end:t},n)}}class l extends a{#y;#w;#m=null;#D=null;constructor(e,t){super(),this.#y=e,this.#w=t}getCurrentValue(){return this.#m}get type(){return"resize_event"}getCurrentTimestamp({mouseEvent:e,droppable:t}){const{percentY:n,day:s,minhour:a,maxhour:i}=t.getData(e),o=new r(s+" "+a,s+" "+i);return o.start.getTime()+o.length*n/100}drag({mouseEvent:e,droppable:t}){const{day:n,minhour:s,maxhour:a}=t.getData(e);this.#D=new r(n+" "+s,n+" "+a),this.#m=this.#y}move({mouseEvent:e,droppable:t}){const{percentY:n,day:s,minhour:a,maxhour:i}=t.getData(e);new r(s+" "+a,s+" "+i);let o=this.getCurrentTimestamp({mouseEvent:e,droppable:t});o-=o%9e5,o>this.#D.end.getTime()&&(o=this.#D.end.getTime()),o<this.#y.start.getTime()&&(o=this.#y.start.getTime()+9e5),this.#m=this.#m.cloneWith({start:this.#m.start,end:o})}drop(){const{start:e,end:t}=this.#m,n=this.#y.values;this.#w({...n,start:e,end:t},n)}}e.exports={createDraggable:function(e,{schedulerEvent:t,onChange:n}){return"move_event_timeline"===e?new i(t,n):"move_event_day"===e?new o(t,n):"resize_event"===e?new l(t,n):void 0}}},965:function(e){e.exports=function(){"use strict";var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(e,t){return null!=e&&"object"==typeof e&&t in e}var a=RegExp.prototype.test;var i=/\S/;function o(e){return!function(e,t){return a.call(e,t)}(i,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var u=/\s*/,d=/\s+/,c=/\s*=/,h=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function g(e){this.string=e,this.tail=e,this.pos=0}function p(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},g.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},p.prototype.push=function(e){return new p(e,this)},p.prototype.lookup=function(e){var t,r,a,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var o,l,u,d=this,c=!1;d;){if(e.indexOf(".")>0)for(o=d.view,l=e.split("."),u=0;null!=o&&u<l.length;)u===l.length-1&&(c=s(o,l[u])||(r=o,a=l[u],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(a))),o=o[l[u++]];else o=d.view[e],c=s(d.view,e);if(c){t=o;break}d=d.parent}i[e]=t}return n(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},v.prototype.parse=function(e,n){var s=this.templateCache,a=e+":"+(n||y.tags).join(":"),i=void 0!==s,l=i?s.get(a):void 0;return null==l&&(l=function(e,n){if(!e)return[];var s,a,i,l=!1,p=[],v=[],m=[],w=!1,b=!1,D="",_=0;function x(){if(w&&!b)for(;m.length;)delete v[m.pop()];else m=[];w=!1,b=!1}function j(e){if("string"==typeof e&&(e=e.split(d,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);s=new RegExp(r(e[0])+"\\s*"),a=new RegExp("\\s*"+r(e[1])),i=new RegExp("\\s*"+r("}"+e[1]))}j(n||y.tags);for(var E,C,M,R,k,V,P=new g(e);!P.eos();){if(E=P.pos,M=P.scanUntil(s))for(var T=0,U=M.length;T<U;++T)o(R=M.charAt(T))?(m.push(v.length),D+=R):(b=!0,l=!0,D+=" "),v.push(["text",R,E,E+1]),E+=1,"\n"===R&&(x(),D="",_=0,l=!1);if(!P.scan(s))break;if(w=!0,C=P.scan(f)||"name",P.scan(u),"="===C?(M=P.scanUntil(c),P.scan(c),P.scanUntil(a)):"{"===C?(M=P.scanUntil(i),P.scan(h),P.scanUntil(a),C="&"):M=P.scanUntil(a),!P.scan(a))throw new Error("Unclosed tag at "+P.pos);if(k=">"==C?[C,M,E,P.pos,D,_,l]:[C,M,E,P.pos],_++,v.push(k),"#"===C||"^"===C)p.push(k);else if("/"===C){if(!(V=p.pop()))throw new Error('Unopened section "'+M+'" at '+E);if(V[1]!==M)throw new Error('Unclosed section "'+V[1]+'" at '+E)}else"name"===C||"{"===C||"&"===C?b=!0:"="===C&&j(M)}if(x(),V=p.pop())throw new Error('Unclosed section "'+V[1]+'" at '+P.pos);return function(e){for(var t,n=[],r=n,s=[],a=0,i=e.length;a<i;++a)switch((t=e[a])[0]){case"#":case"^":r.push(t),s.push(t),r=t[4]=[];break;case"/":s.pop()[5]=t[2],r=s.length>0?s[s.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],s=0,a=e.length;s<a;++s)(t=e[s])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(v))}(e,n),i&&s.set(a,l)),l},v.prototype.render=function(e,t,n,r){var s=this.getConfigTags(r),a=this.parse(e,s),i=t instanceof p?t:new p(t,void 0);return this.renderTokens(a,i,n,e,r)},v.prototype.renderTokens=function(e,t,n,r,s){for(var a,i,o,l="",u=0,d=e.length;u<d;++u)o=void 0,"#"===(i=(a=e[u])[0])?o=this.renderSection(a,t,n,r,s):"^"===i?o=this.renderInverted(a,t,n,r,s):">"===i?o=this.renderPartial(a,t,n,s):"&"===i?o=this.unescapedValue(a,t):"name"===i?o=this.escapedValue(a,t,s):"text"===i&&(o=this.rawValue(a)),void 0!==o&&(l+=o);return l},v.prototype.renderSection=function(e,r,s,a,i){var o=this,l="",u=r.lookup(e[1]);if(u){if(t(u))for(var d=0,c=u.length;d<c;++d)l+=this.renderTokens(e[4],r.push(u[d]),s,a,i);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)l+=this.renderTokens(e[4],r.push(u),s,a,i);else if(n(u)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(r.view,a.slice(e[3],e[5]),(function(e){return o.render(e,r,s,i)})))&&(l+=u)}else l+=this.renderTokens(e[4],r,s,a,i);return l}},v.prototype.renderInverted=function(e,n,r,s,a){var i=n.lookup(e[1]);if(!i||t(i)&&0===i.length)return this.renderTokens(e[4],n,r,s,a)},v.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),s=e.split("\n"),a=0;a<s.length;a++)s[a].length&&(a>0||!n)&&(s[a]=r+s[a]);return s.join("\n")},v.prototype.renderPartial=function(e,t,r,s){if(r){var a=this.getConfigTags(s),i=n(r)?r(e[1]):r[e[1]];if(null!=i){var o=e[6],l=e[5],u=e[4],d=i;0==l&&u&&(d=this.indentPartial(i,u,o));var c=this.parse(d,a);return this.renderTokens(c,t,r,d,s)}}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||y.escape,s=t.lookup(e[1]);if(null!=s)return"number"==typeof s&&r===y.escape?String(s):r(s)},v.prototype.rawValue=function(e){return e[1]},v.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},v.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var y={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){m.templateCache=e},get templateCache(){return m.templateCache}},m=new v;return y.clearCache=function(){return m.clearCache()},y.parse=function(e,t){return m.parse(e,t)},y.render=function(e,n,r,s){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+((t(a=e)?"array":typeof a)+'" was given as the first argument for mustache#render(template, view, partials)'));var a;return m.render(e,n,r,s)},y.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))},y.Scanner=g,y.Context=p,y.Writer=v,y}()},970:(e,t,n)=>{const{DayView:r,WeekView:s,MonthView:a}=n(623),{Day:i,DateRange:o}=n(120),{createViewRenderer:l}=n(807),{SchedulerListener:u}=n(316),{SchedulerEvent:d}=n(195),{StateHandler:c,reduceEvents:h,reduceCurrentDate:f}=n(350);e.exports={Scheduler:class{#t;#_;#x;#j={};constructor(e,t,n){this.#t=e,this.#_=new c({},{onUpdate:()=>this.refresh(),reducers:[h,f]}),this.#_.update({viewMode:"week",minHour:8,maxHour:19,currentDate:null,events:[],eventsDraggable:!1,eventsResizeable:!1,eventsClickable:!1,eventsEditable:!1,headersVisible:!0,dateLocale:"en",styles:{"min-height":"480px",height:"100%"},...t}),this.#x=new u({onEventDrop:()=>{},onEventResize:()=>{},onEventClick:()=>{},...n},this.#_),this.#x.register(e)}refresh(){const e=this.#_.values;e.events=e.events.filter((e=>e.isValid())),"day"===e.viewMode&&(this.#j=new r(e)),"week"===e.viewMode&&(this.#j=new s(e)),"month"===e.viewMode&&(this.#j=new a(e));const t=l(this.#j,e);this.#t.innerHTML=t.render(this.#j)}destroy(){this.#x.unregister(this.#t)}setOptions(e){this.#_.update(e)}getOption(e){return this.#_.values[e]}next(){const{currentDate:e,viewMode:t}=this.#_.values;let n=new i(e);"day"===t&&(n=n.addDays(1)),"week"===t&&(n=n.addDays(7)),"month"===t&&(n=n.addMonths(1)),this.#_.update({currentDate:n.getDate()})}previous(){const{currentDate:e,viewMode:t}=this.#_.values;let n=new i(e);"day"===t&&(n=n.addDays(-1)),"week"===t&&(n=n.addDays(-7)),"month"===t&&(n=n.addMonths(-1)),this.#_.update({currentDate:n.getDate()})}today(){this.#_.update({currentDate:Date.now()})}pushEvent(e){const{events:t}=this.#_.values;this.#_.update({events:[...t,e]})}replaceEvent(e,t){const{events:n}=this.#_.values;this.#_.update({events:n.map((function(n){return[n.values].find(t)?{...n.values,...e}:n}))})}removeEvent(e){const{events:t}=this.#_.values;this.#_.update({events:t.filter((function(t){return![t.values].find(e)}))})}getEventsDateRange(){return this.#j.eventsDateRange}getLabel(){return this.#j.label}}}},988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=t.stringToBytes=void 0;const r=n(797),s=n(11);function a(e){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}t.stringToBytes=a,t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",t.default=function(e,t,n,i,o,l){const u="string"==typeof n?a(n):n,d="string"==typeof i?(0,r.default)(i):i;if("string"==typeof i&&(i=(0,r.default)(i)),16!==i?.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+u.length);if(c.set(d),c.set(u,d.length),c=t(c),c[6]=15&c[6]|e,c[8]=63&c[8]|128,o){l=l||0;for(let e=0;e<16;++e)o[l+e]=c[e];return o}return(0,s.unsafeStringify)(c)}}},t={},function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(466);var e,t}));